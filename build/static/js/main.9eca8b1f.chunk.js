(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{260:function(e,t,a){},261:function(e,t,a){},425:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(47),s=a.n(r),i=(a(260),a(30)),o=a(36),l=(a(261),a(19)),u=a(2),d=function(e){Object(l.c)((function(e){return e.AuthReducer})).user;return Object(u.jsx)(o.b,{path:e.path,exact:e.exact,component:e.component})},j=function(e){return"admin"===Object(l.c)((function(e){return e.AuthReducer})).user.role?Object(u.jsx)(o.a,{to:"/admin/dashboard"}):Object(u.jsx)(o.b,{path:e.path,exact:e.exact,component:e.component})},b=a(120),p=a(233),h=a(234),O=a(10),m=a(235),f="REGISTER_ERROR",g="LOGIN_ERROR",x="SET_TOKEN",v="LOGOUT",y="SET_LOADER",E="CLOSE_LOADER",_="REDIRECT_TRUE",N="REDIRECT_FALSE",R="REMOVE_ERROR",k={loading:!1,registerError:"",loginError:"",token:"",user:""},S=localStorage.getItem("admin_token");if(S){var C=function(e){var t=Object(m.a)(e),a=new Date(1e3*t.exp);return new Date>a?(localStorage.removeItem("admin_token"),null):t}(S);k.token=S;var T=C.user;k.user=T}var w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;if(a===y)return Object(O.a)(Object(O.a)({},e),{},{loading:!0});if(a===E)return Object(O.a)(Object(O.a)({},e),{},{loading:!1});if(a===f)return Object(O.a)(Object(O.a)({},e),{},{registerError:n});if(a===g)return Object(O.a)(Object(O.a)({},e),{},{loginError:n});if(a===x){var c={email:"admin"};return Object(O.a)(Object(O.a)({},e),{},{token:n,user:c})}return a===R?Object(O.a)(Object(O.a)({},e),{},{registerError:"",loginError:""}):a===v?Object(O.a)(Object(O.a)({},e),{},{token:"",user:""}):e},A="SET_USERS",D="SET_USER",I="USER_REQUEST",q="USER_RESET",F="CREATE_USER_ERROR",P="EDIT_USER_ERROR",M="DELETE_USER_ERROR",z={loading:!1,totalDocs:0,redirect:!1,currentPage:0,users:[],user:{},createUserError:"",editUserError:"",deleteUserError:"",userStatus:!1},U="SET_POSTS",V="CREATE_POST",H="CREATE_POST_ERROR",L="SET_MESSAGE",Q="REMOVE_MESSAGE",G="POST_DETAIL",B="POST_REQUEST",J="POST_RESET",K={loading:!1,totalDocs:0,redirect:!1,currentPage:0,createPostError:"",message:"",posts:[],post:{},postStatus:!1},W="SET_CATEGORIES",X={loading:!1,totalDocs:0,redirect:!1,currentPage:0,categories:[],category:{},userStatus:!1},Z="SET_COMMENTS",Y="COMMENT_DETAIL",$="COMMENT_REQUEST",ee="COMMENT_RESET",te="CREATE_COMMENT_ERROR",ae="EDIT_COMMENT_ERROR",ne="DELETE_COMMENT_ERROR",ce={loading:!1,totalDocs:0,redirect:!1,currentPage:0,comments:[],comment:{},createCommentError:"",editCommentError:"",deleteCommentError:"",commentStatus:!1},re=Object(b.combineReducers)({AuthReducer:w,UserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===A?Object(O.a)(Object(O.a)({},e),{},{users:n.data,totalDocs:n.totalDocs,currentPage:n.currentPage}):a===D?Object(O.a)(Object(O.a)({},e),{},{user:n}):a===F?Object(O.a)(Object(O.a)({},e),{},{createUserError:n}):a===P?Object(O.a)(Object(O.a)({},e),{},{editUserError:n}):a===M?Object(O.a)(Object(O.a)({},e),{},{deleteUserError:n}):a===R?Object(O.a)(Object(O.a)({},e),{},{createUserError:"",editUserError:"",deleteUserError:""}):a===I?Object(O.a)(Object(O.a)({},e),{},{userStatus:!0}):a===q?Object(O.a)(Object(O.a)({},e),{},{userStatus:!1}):a===_?Object(O.a)(Object(O.a)({},e),{},{redirect:!0}):a===N?Object(O.a)(Object(O.a)({},e),{},{redirect:!1}):e},PostReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===U?Object(O.a)(Object(O.a)({},e),{},{posts:n.data,totalDocs:n.totalDocs,currentPage:n.currentPage}):a===y||a===E?Object(O.a)(Object(O.a)({},e),{},{loading:!0}):a===H?Object(O.a)(Object(O.a)({},e),{},{createPostError:n}):a===V?Object(O.a)(Object(O.a)({},e),{},{loading:!0}):a===_?Object(O.a)(Object(O.a)({},e),{},{redirect:!0}):a===N?Object(O.a)(Object(O.a)({},e),{},{redirect:!1}):a===L?Object(O.a)(Object(O.a)({},e),{},{message:n}):a===Q?Object(O.a)(Object(O.a)({},e),{},{message:""}):a===R?Object(O.a)(Object(O.a)({},e),{},{createPostError:""}):a===G?Object(O.a)(Object(O.a)({},e),{},{post:n}):a===B?Object(O.a)(Object(O.a)({},e),{},{postStatus:!0}):a===J?Object(O.a)(Object(O.a)({},e),{},{postStatus:!1}):e},CategoryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===W?Object(O.a)(Object(O.a)({},e),{},{categories:n.data,totalDocs:n.totalDocs,currentPage:n.currentPage}):e},CommentReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===Z?Object(O.a)(Object(O.a)({},e),{},{comments:n.data,totalDocs:n.totalDocs,currentPage:n.currentPage}):a===Y?Object(O.a)(Object(O.a)({},e),{},{comment:n}):a===te?Object(O.a)(Object(O.a)({},e),{},{createCommentError:n}):a===ae?Object(O.a)(Object(O.a)({},e),{},{editCommentError:n}):a===ne?Object(O.a)(Object(O.a)({},e),{},{deleteCommentError:n}):a===R?Object(O.a)(Object(O.a)({},e),{},{createCommentError:"",editCommentError:"",deleteCommentError:""}):a===$?Object(O.a)(Object(O.a)({},e),{},{commentStatus:!0}):a===ee?Object(O.a)(Object(O.a)({},e),{},{commentStatus:!1}):a===_?Object(O.a)(Object(O.a)({},e),{},{redirect:!0}):e}}),se=[p.a],ie=Object(b.createStore)(re,Object(h.composeWithDevTools)(b.applyMiddleware.apply(void 0,se))),oe=a(15),le=a.n(oe),ue=a(28),de=a(101),je=a(40),be=a(35),pe=a(33),he=a(31),Oe=a.n(he),me="http://149.102.141.242:3001/api",fe=(localStorage.getItem("token"),function(e){return console.log("\ud83d\ude80 ~ file: AuthMethod.js ~ line 36 ~ login ~ user",e),function(){var t=Object(ue.a)(le.a.mark((function t(a){return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:y});try{"thanhhuyen155tb@gmail.com"===e.email&&"1"===e.password?(console.log("login successful"),window.location.href="/dashboard",a({type:x,payload:"0x"}),a({type:E})):(a({type:E}),a({type:g,payload:"Sai t\xe0i kho\u1ea3n ho\u1eb7c m\u1eadt kh\u1ea9u"}),console.log("login fail"))}catch(n){console.log("error",n.response.data.message)}case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),ge=function(){return Object(u.jsx)("div",{className:"icon-image"})},xe=a(433),ve=function(){return Object(u.jsxs)("svg",{viewBox:"0 0 1024 1024",width:"1em",height:"1em",fill:"currentColor",children:[Object(u.jsx)("path",{d:"M99.096 315.634s-82.58-64.032-82.58-132.13c0-66.064 33.032-165.162 148.646-148.646 83.37 11.91 99.096 165.162 99.096 165.162l-165.162 115.614zM924.906 315.634s82.58-64.032 82.58-132.13c0-66.064-33.032-165.162-148.646-148.646-83.37 11.91-99.096 165.162-99.096 165.162l165.162 115.614z",fill:"#6B676E","p-id":"1143"}),Object(u.jsx)("path",{d:"M1024 561.548c0 264.526-229.23 429.42-512.002 429.42S0 826.076 0 561.548 283.96 66.064 512.002 66.064 1024 297.022 1024 561.548z",fill:"#FFEBD2","p-id":"1144"}),Object(u.jsx)("path",{d:"M330.324 842.126c0 82.096 81.34 148.646 181.678 148.646s181.678-66.55 181.678-148.646H330.324z",fill:"#E9D7C3","p-id":"1145"}),Object(u.jsx)("path",{d:"M644.13 611.098C594.582 528.516 561.55 512 512.002 512c-49.548 0-82.58 16.516-132.13 99.096-42.488 70.814-78.73 211.264-49.548 247.742 66.064 82.58 165.162 33.032 181.678 33.032 16.516 0 115.614 49.548 181.678-33.032 29.18-36.476-7.064-176.93-49.55-247.74z",fill:"#FFFFFF","p-id":"1146"}),Object(u.jsx)("path",{d:"M611.098 495.484c0-45.608 36.974-82.58 82.58-82.58 49.548 0 198.194 99.098 198.194 165.162s-79.934 144.904-148.646 99.096c-49.548-33.032-132.128-148.646-132.128-181.678zM412.904 495.484c0-45.608-36.974-82.58-82.58-82.58-49.548 0-198.194 99.098-198.194 165.162s79.934 144.904 148.646 99.096c49.548-33.032 132.128-148.646 132.128-181.678z",fill:"#6B676E","p-id":"1147"}),Object(u.jsx)("path",{d:"M512.002 726.622c-30.06 0-115.614 5.668-115.614 33.032 0 49.638 105.484 85.24 115.614 82.58 10.128 2.66 115.614-32.944 115.614-82.58-0.002-27.366-85.556-33.032-115.614-33.032z",fill:"#464655","p-id":"1148"}),Object(u.jsx)("path",{d:"M330.324 495.484m-33.032 0a33.032 33.032 0 1 0 66.064 0 33.032 33.032 0 1 0-66.064 0Z",fill:"#464655","p-id":"1149"}),Object(u.jsx)("path",{d:"M693.678 495.484m-33.032 0a33.032 33.032 0 1 0 66.064 0 33.032 33.032 0 1 0-66.064 0Z",fill:"#464655","p-id":"1150"})]})},ye=function(e){return Object(u.jsx)(xe.a,Object(O.a)({component:ve},e))},Ee=a(444),_e=a(445),Ne=a(126),Re=a(46),ke=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(je.a)(t,2),c=a[0],r=a[1],s=Object(l.c)((function(e){return e.AuthReducer})),o=s.loading,d=s.loginError,j=Object(l.b)(),b=function(e){r(Object(O.a)(Object(O.a)({},c),{},Object(de.a)({},e.target.name,e.target.value)))},p=function(){var e=Object(ue.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),j(fe(c));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){d&&be.b.error(d)}),[d]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(pe.a,{children:[Object(u.jsx)("title",{children:"\u0110\u0103ng nh\u1eadp"}),Object(u.jsx)("meta",{name:"description",content:"\u0110\u0103ng nh\u1eadp cho admin"})]}),Object(u.jsx)("div",{className:"bg",children:Object(u.jsxs)("div",{className:"container pt-15",children:[Object(u.jsx)(be.a,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:1e3,style:{background:"#363636",color:"#fff",fontSize:13}}}),Object(u.jsxs)("div",{className:"form-auth col-4",children:[Object(u.jsx)("div",{className:"form-auth__section",children:Object(u.jsxs)("form",{onSubmit:p,children:[Object(u.jsxs)("div",{className:"group",children:[Object(u.jsxs)("div",{className:"text-avatar",children:[Object(u.jsx)(i.b,{to:"/",children:"ADMIN"}),Object(u.jsx)(ye,{style:{fontSize:"25px",marginLeft:"8px"}})]}),Object(u.jsx)(ge,{})]}),Object(u.jsx)("div",{className:"group",children:Object(u.jsx)("input",{type:"text",className:"group__control",name:"email",placeholder:"Nh\u1eadp email ...",value:c.email,onChange:b})}),Object(u.jsx)("div",{className:"group",children:Object(u.jsx)("input",{type:"password",className:"group__control",name:"password",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u ...",value:c.password,onChange:b})}),Object(u.jsx)("div",{className:"group",children:Object(u.jsx)("input",{type:"submit",className:"btn btn-default btn-block",value:o?"...":"Login"})})]})}),Object(u.jsxs)("div",{className:"form-auth__about",children:[Object(u.jsxs)("div",{className:"group__about d-flex",children:[Object(u.jsx)("div",{className:"group__about__remember",children:Object(u.jsx)(Ne.a,{style:{fontSize:"14px",padding:0},onChange:function(e){console.log("checked = ".concat(e.target.checked))},children:"Ghi nh\u1edb \u0111\u0103ng nh\u1eadp"})}),Object(u.jsx)("div",{className:"group__about__forget",children:Object(u.jsx)(i.b,{to:"/auth/forget-password",style:{fontSize:"14px",padding:0},children:"Qu\xean m\u1eadt kh\u1ea9u"})})]}),Object(u.jsx)("div",{className:"divider",children:Object(u.jsx)("span",{className:"login-text",children:"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"})}),Object(u.jsxs)("div",{className:"group__about d-flex pt-3",children:[Object(u.jsx)("div",{className:"social__facebook",children:Object(u.jsx)(Re.a,{style:{width:"120px"},shape:"round",icon:Object(u.jsx)(Ee.a,{}),size:"24px",children:"Facebook"})}),Object(u.jsx)("div",{className:"social__google",children:Object(u.jsx)(Re.a,{style:{width:"120px"},shape:"round",icon:Object(u.jsx)(_e.a,{}),size:"24px",children:"Google"})})]}),Object(u.jsxs)("p",{className:"login-text pt-2",children:["B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n -"," ",Object(u.jsxs)(i.b,{to:"/admin/login",children:["th\xec k\u1ec7 b\u1ea1n ch\u1ee9 !!!"," "]})]})]})]})]})})]})},Se=a(93),Ce=a(440),Te=a(239),we=a(441),Ae=a(446),De=a(447),Ie=a(448),qe=function(){var e=Object(o.g)(),t=Object(l.b)(),a=Object(u.jsxs)(Se.a,{onClick:function(t){"profile"===t.key&&e.push("/profile")},children:[Object(u.jsx)(Se.a.Item,{icon:Object(u.jsx)(Ae.a,{}),children:"My profile"},"profile"),Object(u.jsx)(Se.a.Item,{icon:Object(u.jsx)(De.a,{}),onClick:function(t){"change-password"===t.key&&e.push("/change-password")},children:"Change password"},"change-password"),Object(u.jsx)(Se.a.Item,{icon:Object(u.jsx)(Ie.a,{}),onClick:function(){localStorage.removeItem("token"),t({type:v})},children:"Logout"},"logout")]}),n=Object(l.c)((function(e){return e.AuthReducer})).user;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"admin__header d-flex",children:Object(u.jsx)("div",{className:"admin__header__avatar",children:n&&Object(u.jsx)(Ce.a,{style:{},count:0,children:Object(u.jsx)(Te.a,{content:a,trigger:"hover",children:Object(u.jsx)(we.a,{overlay:a,style:{},src:n.avatar})})})})})})},Fe=a(79),Pe=a(241),Me=a(240),ze=a(242),Ue=function(){var e=Object(l.b)();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"sidebar col-2",children:[Object(u.jsxs)("h2",{className:"sidebar__logo",children:[Object(u.jsxs)("span",{style:{margin:"5px",backgroundColor:"#fae814",borderRadius:"5px",height:"3rem"},children:["ADMIN"," "]}),Object(u.jsxs)("span",{style:{margin:"10px",backgroundColor:"#39c449",borderRadius:"5px",height:"3rem"},children:["FUNNY"," "]})]}),Object(u.jsxs)("div",{className:"sidebar__manager",children:[Object(u.jsx)("div",{className:"sidebar__title",children:Object(u.jsx)("h3",{children:"SITE MANAGER"})}),Object(u.jsxs)("div",{className:"sidebar__item",children:[Object(u.jsx)("li",{class:"sidebar__item__link",children:Object(u.jsxs)(i.b,{to:"/admin/dashboard",children:[Object(u.jsx)(Me.a,{}),Object(u.jsx)("span",{class:"hide-menu",children:"Dashboard"})]})}),Object(u.jsx)("li",{class:"sidebar__item__link",children:Object(u.jsxs)(i.b,{to:"/admin/posts",children:[Object(u.jsx)(Pe.a,{}),Object(u.jsx)("span",{class:"hide-menu",children:"Posts"})]})})]})]}),Object(u.jsxs)("div",{className:"sidebar__manager",children:[Object(u.jsx)("div",{className:"sidebar__title",children:Object(u.jsx)("h3",{children:"SITE SETTING"})}),Object(u.jsxs)("div",{className:"sidebar__item",children:[Object(u.jsx)("li",{class:"sidebar__item__link",children:Object(u.jsxs)(i.b,{children:[Object(u.jsx)(ze.a,{}),Object(u.jsx)("span",{class:"hide-menu",children:"Document"})]})}),Object(u.jsx)("li",{class:"sidebar__item__link",children:Object(u.jsxs)(i.b,{onClick:function(){localStorage.removeItem("token"),e({type:v})},children:[Object(u.jsx)(Fe.b,{}),Object(u.jsx)("span",{class:"hide-menu",children:"Logout"})]})})]})]})]})})},Ve=function(){return Object(u.jsxs)("div",{className:"dashboard",children:[Object(u.jsxs)(pe.a,{children:[Object(u.jsx)("title",{children:"Dashboard"}),Object(u.jsx)("meta",{name:"description",content:"Dashboard"})]}),"Dashboard"]})},He=(a(449),a(435)),Le={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}},Qe=function(e){var t=Object(n.useState)("checkbox"),a=Object(je.a)(t,2),c=a[0];a[1];return Object(u.jsx)(He.a,{style:{margin:"27px 40px"},rowSelection:Object(O.a)({type:c},Le),columns:e.columns,dataSource:e.data,pagination:e.pagination,onChange:e.handlePagination,scroll:e.scroll})},Ge=a(118),Be=(a(442),a(443)),Je=a(434),Ke=a(109),We=a.n(Ke),Xe=(localStorage.getItem("token"),a(125)),Ze=a(436),Ye=a(439),$e=function(){var e=Object(o.g)();return Object(u.jsx)("div",{children:Object(u.jsx)(Re.a,{onClick:function(){return e.goBack()},type:"primary",style:{background:"#39C449",borderColor:"yellow"},children:"Go back"})})},et=(Xe.a.Option,Xe.a.Option,localStorage.getItem("token")),tt=function(){var e=Object(ue.a)(le.a.mark((function e(t){var a;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{Authorization:"".concat(et)}},e.next=4,Oe.a.delete("".concat(me,"/posts/").concat(t),a);case 4:200===e.sent.status&&window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),at=a(247),nt=[{title:"ID",dataIndex:"id",width:20},{title:"Ti\xeau \u0111\u1ec1",dataIndex:"title",width:150},{title:"N\u1ed9i dung",dataIndex:"content",width:700,height:300,render:function(e,t){return Object(u.jsx)(u.Fragment,{children:Object(at.htmlToText)(e.slice(0,600))})}},{title:"Chi ti\u1ebft b\xe0i vi\u1ebft",width:100,render:function(e,t){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Re.a,{type:"primary",shape:"round",onClick:function(){return console.log(e)},children:"Xem th\xeam"})})}},{title:"H\xecnh \u1ea3nh",dataIndex:"image",render:function(e,t){return Object(u.jsx)("img",{width:"150",height:"150",style:{borderRadius:"8px",display:"block",marginLeft:"auto",marginRight:"auto"},src:"".concat(t.image)})}},{title:"H\xe0nh \u0111\u1ed9ng",key:"action",render:function(e,t){return Object(u.jsxs)(Be.b,{size:"middle",children:[Object(u.jsx)(i.b,{to:"/admin/edit-post/".concat(t.slug),children:Object(u.jsx)(Ge.a,{})}),Object(u.jsx)(Je.a,{title:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1?",onConfirm:function(){return ct(t.id)},children:Object(u.jsx)(i.b,{children:Object(u.jsx)(Fe.a,{})})})]})}}],ct=function(){var e=Object(ue.a)(le.a.mark((function e(t){return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tt(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){Object(l.c)((function(e){return e.AuthReducer})).loading;var e,t,a=Object(l.c)((function(e){return e.PostReducer})),c=a.posts,r=a.totalDocs,s=Object(l.b)(),i=Object(o.g)(),d=We.a.parse(location.search),j=d.page,b=void 0===j?1:j,p=d.page_size,h=void 0===p?5:p,O={position:["none","bottomCenter"],total:r,pageSize:null!==(e=parseInt(h))&&void 0!==e?e:5,current:null!==(t=parseInt(b))&&void 0!==t?t:1,pageSizeOptions:["5","10","20","30","50"],showSizeChanger:!0,showTotal:function(e){return"Total: ".concat(r," items ")}};return Object(n.useEffect)((function(){s(function(e,t){return function(){var a=Object(ue.a)(le.a.mark((function a(n,c){var r,s,i,o,l,u,d,j;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=c(),s=r.AuthReducer.token,i={headers:{Authorization:"".concat(s)}},n({type:y}),a.prev=3,a.next=6,Oe.a.get("".concat(me,"/posts?page=").concat(e,"&page_size=").concat(t),i);case 6:o=a.sent,l=o.data,u=l.data,d=l.totalDocs,j=l.currentPage,n({type:E}),n({type:U,payload:{data:u,currentPage:j,totalDocs:d}}),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(3),console.log("error",a.t0),n({type:E});case 19:case"end":return a.stop()}}),a,null,[[3,15]])})));return function(e,t){return a.apply(this,arguments)}}()}(b,h))}),[b,h]),Object(u.jsxs)("div",{className:"post",children:[Object(u.jsxs)(pe.a,{children:[Object(u.jsx)("title",{children:"Xem to\xe0n b\u1ed9 b\xe0i vi\u1ebft"}),Object(u.jsx)("meta",{name:"description",content:"Get all post"})]}),Object(u.jsx)(Re.a,{onClick:function(){return i.push("/admin/create-post")},type:"primary",style:{background:"#39C449",borderColor:"yellow"},children:"T\u1ea1o m\u1edbi b\xe0i vi\u1ebft"}),Object(u.jsx)(Qe,{columns:nt,data:c,pagination:O,handlePagination:function(e){var t=e.current,a=e.pageSize;i.push("/admin/posts?page=".concat(t,"&page_size=").concat(a))},scroll:{x:"max-content"}})]})},st=a(438),it=a(450),ot=a(167),lt=a(127),ut=a(65),dt=a(95),jt=a(96),bt=a(98),pt=a(97),ht=a(66),Ot=a.n(ht),mt=(a(421),a(422),a(423),navigator.userAgent.match(/Trident/i),ht.Quill.import("delta")),ft=function(e){Object(bt.a)(a,e);var t=Object(pt.a)(a);function a(){var e;Object(dt.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).getMetaTagElements=function(e){var t=document.createElement("div");return t.innerHTML=e,t.getElementsByTagName("meta")},e}return Object(jt.a)(a,[{key:"onPaste",value:function(){var e=Object(ue.a)(le.a.mark((function e(t){var a,n,c,r;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=this.quill.getSelection(),n=t.clipboardData.getData("text/plain"),c=(new mt).retain(a.index).delete(a.length).insert(n),r=n.length+a.index,0,this.quill.updateContents(c,"silent"),this.quill.setSelection(r,0,"silent"),this.quill.scrollIntoView();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(ht.Quill.import("modules/clipboard"));ht.Quill.register("modules/clipboard",ft,!0);var gt=ht.Quill.import("blots/block/embed"),xt=function(e){Object(bt.a)(a,e);var t=Object(pt.a)(a);function a(){return Object(dt.a)(this,a),t.apply(this,arguments)}return Object(jt.a)(a,null,[{key:"create",value:function(e){var t=Object(lt.a)(Object(ut.a)(a),"create",this).call(this);return t.setAttribute("src",e.src),t.setAttribute("alt",e.alt),t.setAttribute("width","100%"),t}},{key:"value",value:function(e){return{src:e.getAttribute("src"),alt:e.getAttribute("alt")}}}]),a}(gt);xt.blotName="image",xt.tagName="img",ht.Quill.register(xt);var vt=function(e){Object(bt.a)(a,e);var t=Object(pt.a)(a);function a(){return Object(dt.a)(this,a),t.apply(this,arguments)}return Object(jt.a)(a,null,[{key:"create",value:function(e){if(e&&e.src){var t=Object(lt.a)(Object(ut.a)(a),"create",this).call(this);return t.setAttribute("src",e.src),t.setAttribute("title",e.title),t.setAttribute("width","100%"),t.setAttribute("controls",""),t}var n=document.createElement("iframe");return n.setAttribute("src",e),n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("width","100%"),n}},{key:"value",value:function(e){return e.getAttribute("title")?{src:e.getAttribute("src"),alt:e.getAttribute("title")}:e.getAttribute("src")}}]),a}(gt);vt.blotName="video",vt.tagName="video",ht.Quill.register(vt);var yt=function(e){Object(bt.a)(a,e);var t=Object(pt.a)(a);function a(){return Object(dt.a)(this,a),t.apply(this,arguments)}return Object(jt.a)(a,null,[{key:"create",value:function(e){var t=document.createElement("span");t.innerText="\ucca8\ubd80\ud30c\uc77c - ";var n=document.createElement("b");n.innerText=e;var c=document.createElement("a");c.setAttribute("href",e),c.setAttribute("target","_blank"),c.setAttribute("className","file-link-inner-post"),c.appendChild(n);var r=Object(lt.a)(Object(ut.a)(a),"create",this).call(this);return r.appendChild(t),r.appendChild(c),r}},{key:"value",value:function(e){return e.querySelector("a").getAttribute("href")}}]),a}(gt);yt.blotName="file",yt.tagName="p",yt.className="file-inner-post",ht.Quill.register(yt);var Et=function(e){Object(bt.a)(a,e);var t=Object(pt.a)(a);function a(){return Object(dt.a)(this,a),t.apply(this,arguments)}return Object(jt.a)(a,null,[{key:"create",value:function(e){var t=document.createElement("span");t.innerText="\ud22c\ud45c - ";var n=document.createElement("b");n.innerText=e.title;var c=Object(lt.a)(Object(ut.a)(a),"create",this).call(this);return c.setAttribute("id",e.id),c.appendChild(t),c.appendChild(n),c}},{key:"value",value:function(e){return{id:e.getAttribute("id"),title:e.querySelector("b").innerText}}}]),a}(gt);Et.blotName="poll",Et.tagName="p",Et.className="poll-inner-post",ht.Quill.register(Et);var _t=function(e){Object(bt.a)(a,e);var t=Object(pt.a)(a);function a(e){var n;return Object(dt.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({editorHtml:e},(function(){n.props.onEditorChange(n.state.editorHtml)}))},n.imageHandler=function(){n.inputOpenImageRef.current.click()},n.videoHandler=function(){n.inputOpenVideoRef.current.click()},n.fileHandler=function(){n.inputOpenFileRef.current.click()},n.insertImage=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0],a=new FormData;a.append("file",t),Oe.a.post("".concat(me,"/common/upload-file"),a,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(200!==e.status)return alert("failed to upload file");var a=n.reactQuillRef.getEditor();a.focus();var c=a.getSelection(),r=c?c.index:0;a.insertEmbed(r,"image",{src:e.data.data.url}),a.setSelection(r+1),n._isMounted&&n.setState({files:[].concat(Object(ot.a)(n.state.files),[t])},(function(){n.props.onFilesChange(n.state.files)}))}))}},n.insertVideo=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0],a=new FormData;a.append("file",t),Oe.a.post("".concat(me,"/common/upload-file"),a,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(!e.data.success)return alert("failed to upload file");var a=n.reactQuillRef.getEditor();a.focus();var c=a.getSelection(),r=c?c.index:0;a.insertEmbed(r,"video",{src:e.data.data.url}),a.setSelection(r+1),n._isMounted&&n.setState({files:[].concat(Object(ot.a)(n.state.files),[t])},(function(){n.props.onFilesChange(n.state.files)}))}))}},n.insertFile=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0];console.log(t);var a=new FormData;a.append("file",t),Oe.a.post("".concat(me,"/common/upload-file"),a,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(e.data.success){var a=n.reactQuillRef.getEditor();a.focus();var c=a.getSelection(),r=c?c.index:0;a.insertEmbed(r,"file",e.data.fileName),a.setSelection(r+1),n._isMounted&&n.setState({files:[].concat(Object(ot.a)(n.state.files),[t])},(function(){n.props.onFilesChange(n.state.files)}))}}))}},n.modules={toolbar:{container:"#toolbar",handlers:{insertImage:n.imageHandler,insertVideo:n.videoHandler,insertFile:n.fileHandler,insertPoll:n.pollHandler}}},n.formats=["header","script","direction","align","bold","italic","underline","strike","list","indent","color","background","font","size","image","video","file","link","code-block","video","blockquote","clean"],n.state={editorHtml:e.value||"",files:[]},n.reactQuillRef=null,n.inputOpenImageRef=c.a.createRef(),n.inputOpenVideoRef=c.a.createRef(),n.inputOpenFileRef=c.a.createRef(),n}return Object(jt.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUpdate",value:function(e,t){this.props.value!==e.value&&this.setState({editorHtml:this.props.value})}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{id:"toolbar",children:[Object(u.jsx)("button",{className:"ql-header",value:"1"}),Object(u.jsx)("button",{className:"ql-header",value:"2"}),Object(u.jsxs)("span",{className:"ql-header",children:[Object(u.jsx)("select",{className:"ql-font"}),Object(u.jsx)("select",{className:"ql-size"})]}),Object(u.jsxs)("span",{className:"ql-header",children:[Object(u.jsx)("select",{className:"ql-color"}),Object(u.jsx)("select",{className:"ql-background"})]}),Object(u.jsxs)("span",{className:"ql-header",children:[Object(u.jsx)("button",{className:"ql-bold"}),Object(u.jsx)("button",{className:"ql-italic"}),Object(u.jsx)("button",{className:"ql-underline"}),Object(u.jsx)("button",{className:"ql-strike"})]}),Object(u.jsxs)("span",{class:"ql-header",children:[Object(u.jsx)("button",{className:"ql-insertImage ql-image"}),Object(u.jsx)("button",{className:"ql-insertVideo ql-video",children:"V"}),Object(u.jsx)("button",{className:"ql-insertFile ql-file",children:"F"})]}),Object(u.jsxs)("span",{class:"ql-header",children:[Object(u.jsx)("button",{className:"ql-script",value:"sub"}),Object(u.jsx)("button",{className:"ql-script",value:"super"})]}),Object(u.jsxs)("span",{className:"ql-header",children:[Object(u.jsx)("button",{className:"ql-direction",value:"rtl"}),Object(u.jsx)("select",{className:"ql-align"})]}),Object(u.jsxs)("span",{class:"ql-header",children:[Object(u.jsx)("button",{className:"ql-link"}),Object(u.jsx)("button",{className:"ql-code-block"}),Object(u.jsx)("button",{className:"ql-blockquote"}),Object(u.jsx)("button",{className:"ql-clean"})]}),Object(u.jsxs)("span",{class:"ql-header",children:[Object(u.jsx)("button",{className:"ql-list",value:"ordered",type:"button"}),Object(u.jsx)("button",{className:"ql-list",value:"bullet",type:"button"}),Object(u.jsx)("button",{className:"ql-indent",value:"-1",type:"button"}),Object(u.jsx)("button",{className:"ql-indent",value:"+1",type:"button"})]})]}),Object(u.jsx)(Ot.a,{ref:function(t){e.reactQuillRef=t},theme:"snow",onChange:this.handleChange,modules:this.modules,formats:this.formats,value:this.state.editorHtml,placeholder:this.props.placeholder}),Object(u.jsx)("input",{type:"file",accept:"image/*",ref:this.inputOpenImageRef,style:{display:"none"},onChange:this.insertImage}),Object(u.jsx)("input",{type:"file",accept:"video/*",ref:this.inputOpenVideoRef,style:{display:"none"},onChange:this.insertVideo}),Object(u.jsx)("input",{type:"file",accept:"*",ref:this.inputOpenFileRef,style:{display:"none"},onChange:this.insertFile})]})}}]),a}(c.a.Component),Nt=a(248),Rt=a.n(Nt),kt=function(e){Object(o.g)();var t=Object(l.b)(),a=Ze.a.useForm(),c=Object(je.a)(a,1)[0],r=Object(l.c)((function(e){return e.AuthReducer})),s=(r.user,r.loading,Object(l.c)((function(e){return e.PostReducer}))),i=s.createPostError,d=s.redirect,j=Object(n.useState)([]),b=Object(je.a)(j,2),p=(b[0],b[1]);Object(n.useEffect)((function(){var e,a;t((e=1,a=20,function(){var t=Object(ue.a)(le.a.mark((function t(n,c){var r,s,i,o,l,u,d,j;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c(),s=r.AuthReducer.token,i={headers:{Authorization:"".concat(s)}},n({type:y}),t.prev=3,t.next=6,Oe.a.get("".concat(me,"/post?page=").concat(e,"&page_size=").concat(a),i);case 6:o=t.sent,l=o.data,u=l.data,d=l.currentPage,j=l.totalDocs,n({type:E}),n({type:W,payload:{currentPage:d,data:u,totalDocs:j}}),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(3),console.log("error",t.t0),n({type:E});case 19:case"end":return t.stop()}}),t,null,[[3,15]])})));return function(e,a){return t.apply(this,arguments)}}()))}),[]),Object(n.useEffect)((function(){}),[]),Object(n.useEffect)((function(){d&&(t({type:N}),e.history.push("/admin/posts"))}),[d]),Object(n.useEffect)((function(){i&&be.b.error(i)}),[i]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"post",children:[Object(u.jsx)($e,{}),Object(u.jsxs)(pe.a,{children:[Object(u.jsx)("title",{children:"T\u1ea1o m\u1edbi b\xe0i vi\u1ebft"}),Object(u.jsx)("meta",{name:"description",content:"T\u1ea1o m\u1edbi b\xe0i vi\u1ebft"})]}),Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)(be.a,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:1e3,style:{background:"#363636",color:"#fff",fontSize:13}}}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"form__data",children:[Object(u.jsx)("h3",{className:"form__data__text",children:"T\u1ea1o m\u1edbi b\xe0i vi\u1ebft"}),Object(u.jsxs)(Ze.a,{form:c,name:"basic",labelCol:{span:2},wrapperCol:{span:20},initialValues:{remember:!0},onFinish:function(e){var a;console.log("\ud83d\ude80 ~ file: create.jsx ~ line 137 ~ onFinish ~ values",e),e.image=e.image.file.response.data.url,t((a=e,function(){var e=Object(ue.a)(le.a.mark((function e(t,n){var c,r,s;return le.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n(),r=c.AuthReducer.token,s={headers:{Authorization:"".concat(r)}},t({type:y}),e.prev=3,e.next=6,Oe.a.post("".concat(me,"/posts"),a,s);case 6:e.sent,t({type:_}),t({type:R}),t({type:E}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),t({type:E}),t({type:H,payload:e.t0.response.data.message}),t({type:R});case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,a){return e.apply(this,arguments)}}()))},onFinishFailed:function(e){console.log(e)},autoComplete:"off",children:[Object(u.jsx)(Ze.a.Item,{label:"Ti\xeau \u0111\u1ec1",name:"title",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp ti\xeau \u0111\u1ec1 !"}],children:Object(u.jsx)(Ye.a,{onChange:function(e){var t=Rt()(e.target.value);c.setFieldsValue({slug:t})}})}),Object(u.jsx)(Ze.a.Item,{label:"H\xecnh \u1ea3nh",name:"image",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp h\xecnh \u1ea3nh"}],children:Object(u.jsx)(st.a,{action:function(e){return"".concat(me,"/common/upload-file")},maxCount:1,beforeUpload:function(e){return!!("image/jpeg"===e.type||"image/png"===e.type)||(alert("B\u1ea1n ch\u1ec9 c\xf3 th\u1ec3 nh\u1eadp \u1ea3nh JPG ho\u1eb7c PNG !"),!1)},children:Object(u.jsx)(Re.a,{icon:Object(u.jsx)(it.a,{}),children:"Click to upload"})})}),Object(u.jsx)(Ze.a.Item,{label:"Slug",name:"slug",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp slug!"}],children:Object(u.jsx)(Ye.a,{})}),Object(u.jsx)(Ze.a.Item,{label:"N\u1ed9i dung",name:"content",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp n\u1ed9i dung!"}],children:Object(u.jsx)(_t,{onEditorChange:function(e){c.setFieldsValue({content:e})},onFilesChange:function(e){p(e)}})}),Object(u.jsxs)(Ze.a.Item,{wrapperCol:{offset:2,span:20},children:[Object(u.jsx)(Re.a,{type:"button",onClick:function(){c.resetFields()},children:"Hu\u1ef7 b\u1ecf"}),Object(u.jsx)(Re.a,{type:"primary",htmlType:"submit",style:{marginLeft:15},children:"T\u1ea1o m\u1edbi"})]})]})]})})]})]})})},St=a(437),Ct=(a(424),function(e){var t=e.match.params.id,a=(Object(o.g)(),Object(l.b)()),c=Ze.a.useForm(),r=Object(je.a)(c,1)[0],s=Object(l.c)((function(e){return e.PostReducer})),i=s.post,d=s.postStatus,j=s.editPostError,b=s.redirect,p=Object(n.useState)(null===i||void 0===i?void 0:i.image),h=Object(je.a)(p,2),O=h[0],m=h[1];Object(n.useEffect)((function(){d?(r.setFieldsValue({title:i.title,description:i.description,slug:i.slug,image:i.image,content:i.content}),m(i.image),a({type:J})):a(function(e){return function(){var t=Object(ue.a)(le.a.mark((function t(a,n){var c,r,s,i,o;return le.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n(),r=c.AuthReducer.token,s={headers:{Authorization:"".concat(r)}},a({type:y}),t.prev=3,t.next=6,Oe.a.get("".concat(me,"/posts/").concat(e),s);case 6:i=t.sent,o=i.data.data,a({type:E}),a({type:G,payload:o}),a({type:B}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),a({type:E}),console.log(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}),[i]),Object(n.useEffect)((function(){b&&(a({type:N}),e.history.push("/admin/posts"))}),[b]),Object(n.useEffect)((function(){j&&be.b.error(j)}),[j]);return Object(u.jsxs)("div",{children:[Object(u.jsx)($e,{}),Object(u.jsxs)(pe.a,{children:[Object(u.jsx)("title",{children:"Edit post"}),Object(u.jsx)("meta",{name:"description",content:"Edit post"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)(be.a,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:1e3,style:{background:"#363636",color:"#fff",fontSize:13}}}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"form__data",children:[Object(u.jsx)("h3",{className:"form__data__text",children:"Edit post"}),Object(u.jsxs)(Ze.a,{form:r,name:"basic",className:"formCreatePost",labelCol:{span:2},wrapperCol:{span:20},initialValues:{remember:!0},onFinish:function(e){e.image=O,a(function(e,t){return function(){var a=Object(ue.a)(le.a.mark((function a(n,c){var r,s,i;return le.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=c(),s=r.AuthReducer.token,n({type:y}),a.prev=2,i={headers:{Authorization:"".concat(s)}},a.next=6,Oe.a.put("".concat(me,"/posts/").concat(e),t,i);case 6:a.sent,n({type:_}),n({type:R}),n({type:E}),a.next=17;break;case 12:a.prev=12,a.t0=a.catch(2),console.log("error",a.t0),n({type:E}),n({type:"EDIT_POST_ERROR",payload:a.t0.response.data.message});case 17:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,e))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(u.jsx)(Ze.a.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp ti\xeau \u0111\u1ec1!"}],children:Object(u.jsx)(Ye.a,{})}),Object(u.jsxs)(Ze.a.Item,{label:"Image",name:"image",rules:[{required:!0,message:"Vui l\xf2ng upload \u1ea3nh!"}],children:[Object(u.jsx)(St.a,{width:200,src:O}),Object(u.jsx)(st.a,{action:function(e){return"".concat(me,"/common/upload-file")},onChange:function(e){"done"===e.file.status?(m(e.file.response.data.url),r.setFieldsValue("image",O)):"error"===e.file.status&&be.b.error("".concat(e.file.name," file upload failed."))},listType:"picture",maxCount:1,children:Object(u.jsx)(Re.a,{style:{marginTop:"2rem"},icon:Object(u.jsx)(it.a,{}),children:"Click to upload"})})]}),Object(u.jsx)(Ze.a.Item,{label:"Slug",name:"slug",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp slug !"}],children:Object(u.jsx)(Ye.a,{})}),Object(u.jsx)(Ze.a.Item,{label:"Content",name:"content",rules:[{required:!0,message:"Vui l\xf2ng nh\u1eadp n\u1ed9i dung b\xe0i vi\u1ebft!"}],children:Object(u.jsx)(_t,{value:i.content,onEditorChange:function(e){r.setFieldsValue({content:e})},onFilesChange:function(e){setFiles(e)}})}),Object(u.jsxs)(Ze.a.Item,{wrapperCol:{offset:2,span:20},children:[Object(u.jsx)(Re.a,{type:"button",onClick:function(){r.resetFields()},children:"Cancel"}),Object(u.jsx)(Re.a,{type:"primary",htmlType:"submit",style:{marginLeft:15},children:"Edit"})]})]})]})})]})]})});localStorage.getItem("token"),Xe.a.Option;var Tt=function(){return Object(u.jsx)(l.a,{store:ie,children:Object(u.jsx)(i.a,{children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(j,{path:"/admin/login",component:ke}),Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)(Ue,{}),Object(u.jsxs)("div",{className:"col-10",children:[Object(u.jsx)(qe,{}),Object(u.jsx)(d,{path:"/admin/dashboard",exact:!0,component:Ve}),Object(u.jsx)(d,{path:"/admin/posts",component:rt}),Object(u.jsx)(d,{path:"/admin/create-post",component:kt}),Object(u.jsx)(d,{path:"/admin/edit-post/:id",component:Ct})]})]})]})})})};s.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(Tt,{})}),document.getElementById("root"))}},[[425,1,2]]]);
//# sourceMappingURL=main.9eca8b1f.chunk.js.map
(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{287:function(e,t,a){},288:function(e,t,a){},524:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(47),s=a.n(c),i=(a(287),a(26)),o=a(37),l=(a(288),a(16)),u=a(2),d=function(e){return"admin"===Object(l.c)((function(e){return e.AuthReducer})).user.role?Object(u.jsx)(o.b,{path:e.path,exact:e.exact,component:e.component}):Object(u.jsx)(o.a,{to:"/auth/login"})},j=function(e){return"admin"===Object(l.c)((function(e){return e.AuthReducer})).user.role?Object(u.jsx)(o.a,{to:"/admin/dashboard"}):Object(u.jsx)(o.b,{path:e.path,exact:e.exact,component:e.component})},b=a(128),p=a(257),h=a(258),m=a(9),O=a(259),f="REGISTER_ERROR",g="LOGIN_ERROR",x="SET_TOKEN",v="LOGOUT",y="SET_LOADER",E="CLOSE_LOADER",w="REDIRECT_TRUE",_="REDIRECT_FALSE",C="REMOVE_ERROR",k={loading:!1,registerError:"",loginError:"",token:"",user:""},S=function(e){var t=Object(O.a)(e),a=new Date(1e3*t.exp);return new Date>a?(localStorage.removeItem("token"),null):t},N=localStorage.getItem("token");if(N){var R=S(N);k.token=N;var I=R.user;k.user=I}var T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;if(a===y)return Object(m.a)(Object(m.a)({},e),{},{loading:!0});if(a===E)return Object(m.a)(Object(m.a)({},e),{},{loading:!1});if(a===f)return Object(m.a)(Object(m.a)({},e),{},{registerError:n});if(a===g)return Object(m.a)(Object(m.a)({},e),{},{loginError:n});if(a===x){var r=S(n),c=r.user;return Object(m.a)(Object(m.a)({},e),{},{token:n,user:c})}return a===C?Object(m.a)(Object(m.a)({},e),{},{registerError:"",loginError:""}):a===v?Object(m.a)(Object(m.a)({},e),{},{token:"",user:""}):e},F="SET_USERS",A="SET_USER",P="USER_REQUEST",q="USER_RESET",D="CREATE_USER_ERROR",z="EDIT_USER_ERROR",V="DELETE_USER_ERROR",M={loading:!1,totalDocs:0,redirect:!1,currentPage:0,users:[],user:{},createUserError:"",editUserError:"",deleteUserError:"",userStatus:!1},U="SET_POSTS",L="CREATE_POST",G="CREATE_POST_ERROR",Q="SET_MESSAGE",H="REMOVE_MESSAGE",B="POST_DETAIL",J="POST_REQUEST",K="POST_RESET",W={loading:!1,totalDocs:0,redirect:!1,currentPage:0,createPostError:"",message:"",posts:[],post:{},postStatus:!1},X="SET_CATEGORIES",Y={loading:!1,totalDocs:0,redirect:!1,currentPage:0,categories:[],category:{},userStatus:!1},Z="SET_COMMENTS",$="COMMENT_DETAIL",ee="COMMENT_REQUEST",te="COMMENT_RESET",ae="CREATE_COMMENT_ERROR",ne="EDIT_COMMENT_ERROR",re="DELETE_COMMENT_ERROR",ce={loading:!1,totalDocs:0,redirect:!1,currentPage:0,comments:[],comment:{},createCommentError:"",editCommentError:"",deleteCommentError:"",commentStatus:!1},se=Object(b.combineReducers)({AuthReducer:T,UserReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===F?Object(m.a)(Object(m.a)({},e),{},{users:n.data,totalDocs:n.totalDocs,currentPage:n.currentPage}):a===A?Object(m.a)(Object(m.a)({},e),{},{user:n}):a===D?Object(m.a)(Object(m.a)({},e),{},{createUserError:n}):a===z?Object(m.a)(Object(m.a)({},e),{},{editUserError:n}):a===V?Object(m.a)(Object(m.a)({},e),{},{deleteUserError:n}):a===C?Object(m.a)(Object(m.a)({},e),{},{createUserError:"",editUserError:"",deleteUserError:""}):a===P?Object(m.a)(Object(m.a)({},e),{},{userStatus:!0}):a===q?Object(m.a)(Object(m.a)({},e),{},{userStatus:!1}):a===w?Object(m.a)(Object(m.a)({},e),{},{redirect:!0}):a===_?Object(m.a)(Object(m.a)({},e),{},{redirect:!1}):e},PostReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===U?Object(m.a)(Object(m.a)({},e),{},{posts:n.data,totalDocs:n.totalDocs,currentPage:n.currentPage}):a===y||a===E?Object(m.a)(Object(m.a)({},e),{},{loading:!0}):a===G?Object(m.a)(Object(m.a)({},e),{},{createPostError:n}):a===L?Object(m.a)(Object(m.a)({},e),{},{loading:!0}):a===w?Object(m.a)(Object(m.a)({},e),{},{redirect:!0}):a===_?Object(m.a)(Object(m.a)({},e),{},{redirect:!1}):a===Q?Object(m.a)(Object(m.a)({},e),{},{message:n}):a===H?Object(m.a)(Object(m.a)({},e),{},{message:""}):a===C?Object(m.a)(Object(m.a)({},e),{},{createPostError:""}):a===B?Object(m.a)(Object(m.a)({},e),{},{post:n}):a===J?Object(m.a)(Object(m.a)({},e),{},{postStatus:!0}):a===K?Object(m.a)(Object(m.a)({},e),{},{postStatus:!1}):e},CategoryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===X?Object(m.a)(Object(m.a)({},e),{},{categories:n.data,totalDocs:n.totalDocs,currentPage:n.currentPage}):e},CommentReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;return a===Z?Object(m.a)(Object(m.a)({},e),{},{comments:n.data,totalDocs:n.totalDocs,currentPage:n.currentPage}):a===$?Object(m.a)(Object(m.a)({},e),{},{comment:n}):a===ae?Object(m.a)(Object(m.a)({},e),{},{createCommentError:n}):a===ne?Object(m.a)(Object(m.a)({},e),{},{editCommentError:n}):a===re?Object(m.a)(Object(m.a)({},e),{},{deleteCommentError:n}):a===C?Object(m.a)(Object(m.a)({},e),{},{createCommentError:"",editCommentError:"",deleteCommentError:""}):a===ee?Object(m.a)(Object(m.a)({},e),{},{commentStatus:!0}):a===te?Object(m.a)(Object(m.a)({},e),{},{commentStatus:!1}):a===w?Object(m.a)(Object(m.a)({},e),{},{redirect:!0}):e}}),ie=[p.a],oe=Object(b.createStore)(se,Object(h.composeWithDevTools)(b.applyMiddleware.apply(void 0,ie))),le=a(15),ue=a.n(le),de=a(27),je=a(80),be=a(35),pe=a(32),he=a(33),me=a(31),Oe=a.n(me),fe="https://funny-code-9x.herokuapp.com/api",ge=localStorage.getItem("token"),xe=function(e){return function(){var t=Object(de.a)(ue.a.mark((function t(a){var n,r;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},a({type:y}),t.prev=2,t.next=5,Oe.a.post("".concat(fe,"/auth/register"),e,n);case 5:r=t.sent,a({type:E}),console.log(r),200===r.status&&(window.location.href="/auth/login"),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(2),a({type:E}),a({type:f,payload:t.t0.response.data.message}),a({type:C});case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return function(){var t=Object(de.a)(ue.a.mark((function t(a){var n,r,c;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},a({type:y}),t.prev=2,t.next=5,Oe.a.post("".concat(fe,"/auth/login"),e,n);case 5:r=t.sent,c=r.data,a({type:E}),localStorage.setItem("token",c.token),a({type:x,payload:c.token}),t.next=18;break;case 12:t.prev=12,t.t0=t.catch(2),a({type:E}),console.log("error",t.t0.response.data.message),a({type:g,payload:t.t0.response.data.message}),a({type:C});case 18:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()},ye=function(){var e=Object(de.a)(ue.a.mark((function e(t){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:"".concat(ge)}},e.next=3,Oe.a.post("".concat(fe,"/auth/change-password"),t,a).then((function(e){window.location.href="/profile"})).catch((function(e){throw e.response.data.message}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){return Object(u.jsx)("div",{className:"icon-image"})},we=a(529),_e=function(){return Object(u.jsxs)("svg",{viewBox:"0 0 1024 1024",width:"1em",height:"1em",fill:"currentColor",children:[Object(u.jsx)("path",{d:"M99.096 315.634s-82.58-64.032-82.58-132.13c0-66.064 33.032-165.162 148.646-148.646 83.37 11.91 99.096 165.162 99.096 165.162l-165.162 115.614zM924.906 315.634s82.58-64.032 82.58-132.13c0-66.064-33.032-165.162-148.646-148.646-83.37 11.91-99.096 165.162-99.096 165.162l165.162 115.614z",fill:"#6B676E","p-id":"1143"}),Object(u.jsx)("path",{d:"M1024 561.548c0 264.526-229.23 429.42-512.002 429.42S0 826.076 0 561.548 283.96 66.064 512.002 66.064 1024 297.022 1024 561.548z",fill:"#FFEBD2","p-id":"1144"}),Object(u.jsx)("path",{d:"M330.324 842.126c0 82.096 81.34 148.646 181.678 148.646s181.678-66.55 181.678-148.646H330.324z",fill:"#E9D7C3","p-id":"1145"}),Object(u.jsx)("path",{d:"M644.13 611.098C594.582 528.516 561.55 512 512.002 512c-49.548 0-82.58 16.516-132.13 99.096-42.488 70.814-78.73 211.264-49.548 247.742 66.064 82.58 165.162 33.032 181.678 33.032 16.516 0 115.614 49.548 181.678-33.032 29.18-36.476-7.064-176.93-49.55-247.74z",fill:"#FFFFFF","p-id":"1146"}),Object(u.jsx)("path",{d:"M611.098 495.484c0-45.608 36.974-82.58 82.58-82.58 49.548 0 198.194 99.098 198.194 165.162s-79.934 144.904-148.646 99.096c-49.548-33.032-132.128-148.646-132.128-181.678zM412.904 495.484c0-45.608-36.974-82.58-82.58-82.58-49.548 0-198.194 99.098-198.194 165.162s79.934 144.904 148.646 99.096c49.548-33.032 132.128-148.646 132.128-181.678z",fill:"#6B676E","p-id":"1147"}),Object(u.jsx)("path",{d:"M512.002 726.622c-30.06 0-115.614 5.668-115.614 33.032 0 49.638 105.484 85.24 115.614 82.58 10.128 2.66 115.614-32.944 115.614-82.58-0.002-27.366-85.556-33.032-115.614-33.032z",fill:"#464655","p-id":"1148"}),Object(u.jsx)("path",{d:"M330.324 495.484m-33.032 0a33.032 33.032 0 1 0 66.064 0 33.032 33.032 0 1 0-66.064 0Z",fill:"#464655","p-id":"1149"}),Object(u.jsx)("path",{d:"M693.678 495.484m-33.032 0a33.032 33.032 0 1 0 66.064 0 33.032 33.032 0 1 0-66.064 0Z",fill:"#464655","p-id":"1150"})]})},Ce=function(e){return Object(u.jsx)(we.a,Object(m.a)({component:_e},e))},ke=function(e){var t=Object(l.b)(),a=Object(n.useState)({name:"",email:"",password:"",confirm_password:""}),r=Object(be.a)(a,2),c=r[0],s=r[1],o=Object(l.c)((function(e){return e.AuthReducer})),d=o.loading,j=o.registerError,b=function(e){s(Object(m.a)(Object(m.a)({},c),{},Object(je.a)({},e.target.name,e.target.value)))},p=function(){var e=Object(de.a)(ue.a.mark((function e(a){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.password!==c.confirm_password&&pe.b.error("X\xe1c nh\u1eadn 2 m\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp nhau"),a.preventDefault(),t(xe(c));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){j&&pe.b.error(j)}),[j]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(he.a,{children:[Object(u.jsx)("title",{children:"\u0110\u0103ng k\xed"}),Object(u.jsx)("meta",{name:"description",content:"\u0110\u0103ng k\xed"})]}),Object(u.jsx)("div",{className:"bg",children:Object(u.jsxs)("div",{className:"container pt-15",children:[Object(u.jsx)(pe.a,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:1e3,style:{background:"#363636",color:"#fff",fontSize:13}}}),Object(u.jsxs)("div",{className:"form-auth col-4",children:[Object(u.jsx)("div",{className:"form-auth__section",children:Object(u.jsxs)("form",{onSubmit:p,children:[Object(u.jsxs)("div",{className:"group",children:[Object(u.jsxs)("div",{className:"text-avatar",children:[Object(u.jsx)(i.b,{to:"/",children:"FUNNY CODE"}),Object(u.jsx)(Ce,{style:{fontSize:"25px",marginLeft:"8px"}})]}),Object(u.jsx)(Ee,{})]}),Object(u.jsx)("div",{className:"group",children:Object(u.jsx)("input",{type:"text",className:"group__control",name:"name",placeholder:"Nh\u1eadp h\u1ecd t\xean ...",value:c.name,onChange:b})}),Object(u.jsx)("div",{className:"group",children:Object(u.jsx)("input",{type:"text",className:"group__control",name:"email",placeholder:"Nh\u1eadp email ...",value:c.email,onChange:b})}),Object(u.jsx)("div",{className:"group",children:Object(u.jsx)("input",{type:"password",className:"group__control",name:"password",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u ...",value:c.password,onChange:b})}),Object(u.jsx)("div",{className:"group",children:Object(u.jsx)("input",{type:"password",className:"group__control",name:"confirm_password",placeholder:"X\xe1c nh\u1eadn m\u1eadt kh\u1ea9u ...",onChange:b})}),Object(u.jsx)("div",{className:"group",children:Object(u.jsx)("input",{type:"submit",className:"btn btn-default btn-block",value:d?"...":"\u0110\u0103ng k\xed"})})]})}),Object(u.jsx)("div",{className:"form-auth__about",children:Object(u.jsxs)("p",{className:"login-text pt-2",children:["B\u1ea1n \u0111\xe3 c\xf3 t\xe0i kho\u1ea3n -"," ",Object(u.jsx)("a",{href:"/auth/login",children:"\u0110\u0103ng nh\u1eadp ngay"})]})})]})]})})]})},Se=a(540),Ne=a(541),Re=a(134),Ie=a(46),Te=function(e){var t=Object(n.useState)({email:"",password:""}),a=Object(be.a)(t,2),r=a[0],c=a[1],s=Object(l.c)((function(e){return e.AuthReducer})),o=s.loading,d=s.loginError,j=s.user,b=Object(l.b)(),p=function(e){c(Object(m.a)(Object(m.a)({},r),{},Object(je.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(de.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),b(ve(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){d&&pe.b.error(d),"user"===j.role&&pe.b.error("B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n v\xe0o trang n\xe0y")}),[d,j]);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(he.a,{children:[Object(u.jsx)("title",{children:"\u0110\u0103ng nh\u1eadp"}),Object(u.jsx)("meta",{name:"description",content:"\u0110\u0103ng nh\u1eadp"})]}),Object(u.jsx)("div",{className:"bg",children:Object(u.jsxs)("div",{className:"container pt-15",children:[Object(u.jsx)(pe.a,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:1e3,style:{background:"#363636",color:"#fff",fontSize:13}}}),Object(u.jsxs)("div",{className:"form-auth col-4",children:[Object(u.jsx)("div",{className:"form-auth__section",children:Object(u.jsxs)("form",{onSubmit:h,children:[Object(u.jsxs)("div",{className:"group",children:[Object(u.jsxs)("div",{className:"text-avatar",children:[Object(u.jsx)(i.b,{to:"/",children:"FUNNY CODE"}),Object(u.jsx)(Ce,{style:{fontSize:"25px",marginLeft:"8px"}})]}),Object(u.jsx)(Ee,{})]}),Object(u.jsx)("div",{className:"group",children:Object(u.jsx)("input",{type:"text",className:"group__control",name:"email",placeholder:"Nh\u1eadp email ...",value:r.email,onChange:p})}),Object(u.jsx)("div",{className:"group",children:Object(u.jsx)("input",{type:"password",className:"group__control",name:"password",placeholder:"Nh\u1eadp m\u1eadt kh\u1ea9u ...",value:r.password,onChange:p})}),Object(u.jsx)("div",{className:"group",children:Object(u.jsx)("input",{type:"submit",className:"btn btn-default btn-block",value:o?"...":"Login"})})]})}),Object(u.jsxs)("div",{className:"form-auth__about",children:[Object(u.jsxs)("div",{className:"group__about d-flex",children:[Object(u.jsx)("div",{className:"group__about__remember",children:Object(u.jsx)(Re.a,{style:{fontSize:"14px",padding:0},onChange:function(e){console.log("checked = ".concat(e.target.checked))},children:"Ghi nh\u1edb \u0111\u0103ng nh\u1eadp"})}),Object(u.jsx)("div",{className:"group__about__forget",children:Object(u.jsx)(i.b,{to:"/auth/forget-password",style:{fontSize:"14px",padding:0},children:"Qu\xean m\u1eadt kh\u1ea9u"})})]}),Object(u.jsx)("div",{className:"divider",children:Object(u.jsx)("span",{className:"login-text",children:"Ho\u1eb7c \u0111\u0103ng nh\u1eadp b\u1eb1ng"})}),Object(u.jsxs)("div",{className:"group__about d-flex pt-3",children:[Object(u.jsx)("div",{className:"social__facebook",children:Object(u.jsx)(Ie.a,{style:{width:"120px"},shape:"round",icon:Object(u.jsx)(Se.a,{}),size:"24px",children:"Facebook"})}),Object(u.jsx)("div",{className:"social__google",children:Object(u.jsx)(Ie.a,{style:{width:"120px"},shape:"round",icon:Object(u.jsx)(Ne.a,{}),size:"24px",children:"Google"})})]}),Object(u.jsxs)("p",{className:"login-text pt-2",children:["B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n -"," ",Object(u.jsx)("a",{href:"/auth/register",children:"\u0110\u0103ng k\xed ngay"})]})]})]})]})})]})},Fe=a(94),Ae=a(536),Pe=a(263),qe=a(537),De=a(542),ze=a(543),Ve=a(544),Me=function(){var e=Object(o.g)(),t=Object(l.b)(),a=Object(u.jsxs)(Fe.a,{onClick:function(t){"profile"===t.key&&e.push("/profile")},children:[Object(u.jsx)(Fe.a.Item,{icon:Object(u.jsx)(De.a,{}),children:"My profile"},"profile"),Object(u.jsx)(Fe.a.Item,{icon:Object(u.jsx)(ze.a,{}),onClick:function(t){"change-password"===t.key&&e.push("/change-password")},children:"Change password"},"change-password"),Object(u.jsx)(Fe.a.Item,{icon:Object(u.jsx)(Ve.a,{}),onClick:function(){localStorage.removeItem("token"),t({type:v})},children:"Logout"},"logout")]}),n=Object(l.c)((function(e){return e.AuthReducer})).user;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"admin__header d-flex",children:Object(u.jsx)("div",{className:"admin__header__avatar",children:n&&Object(u.jsx)(Ae.a,{style:{},count:0,children:Object(u.jsx)(Pe.a,{content:a,trigger:"hover",children:Object(u.jsx)(qe.a,{overlay:a,style:{},src:n.avatar})})})})})})},Ue=a(264),Le=a(265),Ge=a(266),Qe=a(68),He=a(267),Be=a(195),Je=a(268),Ke=function(){var e=Object(l.b)();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"sidebar col-2",children:[Object(u.jsxs)("div",{className:"sidebar__logo",children:[Object(u.jsx)(Ue.a,{}),Object(u.jsx)(Le.a,{})]}),Object(u.jsxs)("div",{className:"sidebar__manager",children:[Object(u.jsx)("div",{className:"sidebar__title",children:Object(u.jsx)("h3",{children:"SITE MANAGER"})}),Object(u.jsxs)("div",{className:"sidebar__item",children:[Object(u.jsx)("li",{class:"sidebar__item__link",children:Object(u.jsxs)(i.b,{to:"/admin/dashboard",children:[Object(u.jsx)(Be.b,{}),Object(u.jsx)("span",{class:"hide-menu",children:"Dashboard"})]})}),Object(u.jsx)("li",{class:"sidebar__item__link",children:Object(u.jsxs)(i.b,{to:"/admin/users",children:[Object(u.jsx)(Ge.a,{}),Object(u.jsx)("span",{class:"hide-menu",children:"Users"})]})}),Object(u.jsx)("li",{class:"sidebar__item__link",children:Object(u.jsxs)(i.b,{to:"/admin/posts",children:[Object(u.jsx)(He.a,{}),Object(u.jsx)("span",{class:"hide-menu",children:"Posts"})]})}),Object(u.jsx)("li",{class:"sidebar__item__link",children:Object(u.jsxs)(i.b,{to:"/admin/comments",children:[Object(u.jsx)(Be.a,{}),Object(u.jsx)("span",{class:"hide-menu",children:"Comments"})]})}),Object(u.jsx)("li",{class:"sidebar__item__link",children:Object(u.jsxs)(i.b,{to:"/admin/feedback",children:[Object(u.jsx)(Qe.b,{}),Object(u.jsx)("span",{class:"hide-menu",children:"Feedback"})]})})]})]}),Object(u.jsxs)("div",{className:"sidebar__manager",children:[Object(u.jsx)("div",{className:"sidebar__title",children:Object(u.jsx)("h3",{children:"SITE SETTING"})}),Object(u.jsxs)("div",{className:"sidebar__item",children:[Object(u.jsx)("li",{class:"sidebar__item__link",children:Object(u.jsxs)(i.b,{children:[Object(u.jsx)(Je.a,{}),Object(u.jsx)("span",{class:"hide-menu",children:"Document"})]})}),Object(u.jsx)("li",{class:"sidebar__item__link",children:Object(u.jsxs)(i.b,{onClick:function(){localStorage.removeItem("token"),e({type:v})},children:[Object(u.jsx)(Qe.b,{}),Object(u.jsx)("span",{class:"hide-menu",children:"Logout"})]})})]})]})]})})},We=function(){return Object(u.jsxs)("div",{className:"dashboard",children:[Object(u.jsxs)(he.a,{children:[Object(u.jsx)("title",{children:"Dashboard"}),Object(u.jsx)("meta",{name:"description",content:"Dashboard"})]}),"Dashboard"]})},Xe=(a(545),a(531)),Ye={onChange:function(e,t){console.log("selectedRowKeys: ".concat(e),"selectedRows: ",t)},getCheckboxProps:function(e){return{disabled:"Disabled User"===e.name,name:e.name}}},Ze=function(e){var t=Object(n.useState)("checkbox"),a=Object(be.a)(t,2),r=a[0];a[1];return Object(u.jsx)(Xe.a,{style:{margin:"27px 40px"},rowSelection:Object(m.a)({type:r},Ye),columns:e.columns,dataSource:e.data,pagination:e.pagination,onChange:e.handlePagination,scroll:e.scroll})},$e=a(126),et=a(538),tt=a(539),at=a(530),nt=a(113),rt=a.n(nt),ct=localStorage.getItem("token"),st=function(e){return function(){var t=Object(de.a)(ue.a.mark((function t(a,n){var r,c,s,i,o;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.AuthReducer.token,s={headers:{Authorization:"".concat(c)}},a({type:y}),t.prev=3,t.next=6,Oe.a.get("".concat(fe,"/admin/users/").concat(e),s);case 6:i=t.sent,o=i.data.data,a({type:E}),a({type:A,payload:o}),a({type:P}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),a({type:E}),console.log(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,a){return t.apply(this,arguments)}}()},it=function(e,t){return function(){var a=Object(de.a)(ue.a.mark((function a(n,r){var c,s,i;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r(),s=c.AuthReducer.token,n({type:y}),a.prev=2,i={headers:{Authorization:"".concat(s)}},a.next=6,Oe.a.put("".concat(fe,"/admin/users/").concat(e),t,i);case 6:a.sent,n({type:w}),n({type:C}),n({type:E}),a.next=17;break;case 12:a.prev=12,a.t0=a.catch(2),console.log("error",a.t0),n({type:E}),n({type:z,payload:a.t0.response.data.message});case 17:case"end":return a.stop()}}),a,null,[[2,12]])})));return function(e,t){return a.apply(this,arguments)}}()},ot=function(){var e=Object(de.a)(ue.a.mark((function e(t){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{Authorization:"".concat(ct)}},e.next=4,Oe.a.delete("".concat(fe,"/admin/users/").concat(t),a);case 4:200===e.sent.status&&window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),lt=[{role:"user",color:"green"},{role:"admin",color:"volcano"}],ut=[{title:"ID",dataIndex:"id"},{title:"Email",dataIndex:"email"},{title:"Name",dataIndex:"name"},{title:"Role",dataIndex:"role",render:function(e){return Object(u.jsx)(u.Fragment,{children:lt.map((function(t){if(t.role==e)return Object(u.jsx)(et.a,{color:t.color,children:e.toLowerCase()})}))})}},{title:"Address",dataIndex:"address"},{title:"Phone",dataIndex:"phone"},{title:"Gender",dataIndex:"gender"},{title:"Action",key:"action",render:function(e,t){return Object(u.jsxs)(tt.b,{size:"middle",children:[Object(u.jsx)(i.b,{to:"/admin/edit-user/".concat(t._id),children:Object(u.jsx)($e.a,{})}),Object(u.jsx)(at.a,{title:"Sure to delete user?",onConfirm:function(){return dt(t.id)},children:Object(u.jsx)(i.b,{children:Object(u.jsx)(Qe.a,{})})})]})}}],dt=function(e){ot(e)},jt=function(){Object(l.c)((function(e){return e.AuthReducer})).loading;var e,t,a=Object(l.c)((function(e){return e.UserReducer})),r=a.users,c=a.totalDocs,s=Object(o.g)(),i=Object(l.b)(),d=rt.a.parse(location.search),j=d.page,b=void 0===j?1:j,p=d.page_size,h=void 0===p?5:p,m={position:["none","bottomCenter"],total:c,pageSize:null!==(e=parseInt(h))&&void 0!==e?e:5,current:null!==(t=parseInt(b))&&void 0!==t?t:1,pageSizeOptions:["5","10","20","30","50"],showSizeChanger:!0,showTotal:function(e){return"Total: ".concat(c," items ")}};return Object(n.useEffect)((function(){i(function(e,t){return function(){var a=Object(de.a)(ue.a.mark((function a(n,r){var c,s,i,o,l,u,d,j;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r(),s=c.AuthReducer.token,n({type:y}),a.prev=2,i={headers:{Authorization:"".concat(s)}},a.next=6,Oe.a.get("".concat(fe,"/admin/users?page=").concat(e,"&page_size=").concat(t),i);case 6:o=a.sent,l=o.data,u=l.data,d=l.totalDocs,j=l.currentPage,n({type:E}),n({type:F,payload:{data:u,currentPage:j,totalDocs:d}}),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(2),console.log("error",a.t0),n({type:E});case 19:case"end":return a.stop()}}),a,null,[[2,15]])})));return function(e,t){return a.apply(this,arguments)}}()}(b,h))}),[b,h]),Object(u.jsxs)("div",{className:"user",children:[Object(u.jsxs)(he.a,{children:[Object(u.jsx)("title",{children:"Get all user"}),Object(u.jsx)("meta",{name:"description",content:"Get all user"})]}),Object(u.jsx)(Ie.a,{onClick:function(){return s.push("/admin/create-user")},type:"primary",style:{background:"#39C449",borderColor:"yellow"},children:"Create new user"}),Object(u.jsx)(Ze,{columns:ut,data:r,pagination:m,handlePagination:function(e){var t=e.current,a=e.pageSize;s.push("/admin/users?page=".concat(t,"&page_size=").concat(a))}})]})},bt=a(133),pt=a(532),ht=a(535),mt=function(){var e=Object(o.g)();return Object(u.jsx)("div",{children:Object(u.jsx)(Ie.a,{onClick:function(){return e.goBack()},type:"primary",style:{background:"#39C449",borderColor:"yellow"},children:"Go back"})})},Ot=bt.a.Option,ft=function(e){var t=Object(l.b)(),a=pt.a.useForm(),r=Object(be.a)(a,1)[0],c=(Object(l.c)((function(e){return e.AuthReducer})).loading,Object(l.c)((function(e){return e.UserReducer}))),s=c.createUserError,i=c.redirect;return Object(n.useEffect)((function(){i&&e.history.push("/admin/users"),s&&pe.b.error(s)}),[s,i]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)(mt,{}),Object(u.jsxs)(he.a,{children:[Object(u.jsx)("title",{children:"Create new user"}),Object(u.jsx)("meta",{name:"description",content:"Create new user"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)(pe.a,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:1e3,style:{background:"#363636",color:"#fff",fontSize:13}}}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"form__data",children:[Object(u.jsx)("h3",{className:"form__data__text",children:"Create new user"}),Object(u.jsxs)(pt.a,{form:r,name:"basic",labelCol:{span:4},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(e){var a;t((a=e,function(){var e=Object(de.a)(ue.a.mark((function e(t,n){var r,c,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),c=r.AuthReducer.token,t({type:y}),e.prev=2,s={headers:{Authorization:"".concat(c)}},e.next=6,Oe.a.post("".concat(fe,"/admin/users"),a,s);case 6:e.sent,t({type:w}),t({type:C}),t({type:E}),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(2),console.log("error",e.t0),t({type:E}),t({type:D,payload:e.t0.response.data.message}),t({type:C});case 18:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(u.jsx)(pt.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"The input is not valid E-mail!"}],children:Object(u.jsx)(ht.a,{})}),Object(u.jsx)(pt.a.Item,{label:"Username",name:"name",rules:[{required:!0,message:"Please input your username!"}],children:Object(u.jsx)(ht.a,{})}),Object(u.jsx)(pt.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(u.jsx)(ht.a.Password,{})}),Object(u.jsx)(pt.a.Item,{name:"gender",label:"Gender",rules:[{required:!0}],children:Object(u.jsxs)(bt.a,{placeholder:"Select a gender and change ",onChange:function(e){switch(e){case"male":return void r.setFieldsValue({gender:"male"});case"female":return void r.setFieldsValue({gender:"female"});case"other":r.setFieldsValue({gender:"other"})}},allowClear:!0,children:[Object(u.jsx)(Ot,{value:"male",children:"male"}),Object(u.jsx)(Ot,{value:"female",children:"female"}),Object(u.jsx)(Ot,{value:"other",children:"other"})]})}),Object(u.jsx)(pt.a.Item,{name:"role",label:"Role",rules:[{required:!0}],children:Object(u.jsxs)(bt.a,{placeholder:"Select a role and change ",onChange:function(e){switch(e){case"user":return void r.setFieldsValue({role:"user"});case"admin":return void r.setFieldsValue({role:"admin"})}},allowClear:!0,children:[Object(u.jsx)(Ot,{value:"user",children:"user"}),Object(u.jsx)(Ot,{value:"admin",children:"admin"})]})}),Object(u.jsx)(pt.a.Item,{label:"Address",name:"address",children:Object(u.jsx)(ht.a,{})}),Object(u.jsx)(pt.a.Item,{label:"Phone",name:"phone",rules:[],children:Object(u.jsx)(ht.a,{})}),Object(u.jsxs)(pt.a.Item,{wrapperCol:{offset:4,span:16},children:[Object(u.jsx)(Ie.a,{type:"button",onClick:function(){r.resetFields()},children:"Cancel"}),Object(u.jsx)(Ie.a,{type:"primary",htmlType:"submit",style:{marginLeft:15},children:"Create"})]})]})]})})]})]})})},gt=bt.a.Option,xt=function(e){var t=e.match.params.id,a=(Object(o.g)(),Object(l.b)()),r=pt.a.useForm(),c=Object(be.a)(r,1)[0],s=(Object(l.c)((function(e){return e.AuthReducer})).loading,Object(l.c)((function(e){return e.UserReducer}))),i=s.user,d=s.userStatus,j=s.editUserError,b=s.redirect;Object(n.useEffect)((function(){d?(c.setFieldsValue({email:i.email,gender:i.gender,name:i.name,address:i.address,role:i.role,phone:i.phone}),a({type:q})):a(st(t))}),[i]),Object(n.useEffect)((function(){b&&(a({type:_}),e.history.push("/admin/users"))}),[b]),Object(n.useEffect)((function(){j&&pe.b.error(j)}),[j]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)(mt,{}),Object(u.jsxs)(he.a,{children:[Object(u.jsx)("title",{children:"Edit user"}),Object(u.jsx)("meta",{name:"description",content:"Edit user"})]}),Object(u.jsx)(pe.a,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:1e3,style:{background:"#363636",color:"#fff",fontSize:13}}}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"form__data",children:[Object(u.jsx)("h3",{className:"form__data__text",children:"Edit user"}),Object(u.jsxs)(pt.a,{form:c,name:"basic",labelCol:{span:4},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(e){console.log("value",e),a(it(t,e))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(u.jsx)(pt.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"The input is not valid E-mail!"}],children:Object(u.jsx)(ht.a,{})}),Object(u.jsx)(pt.a.Item,{label:"Username",name:"name",rules:[{required:!0,message:"Please input your username!"}],children:Object(u.jsx)(ht.a,{})}),Object(u.jsx)(pt.a.Item,{name:"gender",label:"Gender",rules:[{required:!0}],children:Object(u.jsxs)(bt.a,{placeholder:"Select a gender and change ",onChange:function(e){switch(e){case"male":return void c.setFieldsValue({gender:"male"});case"female":return void c.setFieldsValue({gender:"female"});case"other":c.setFieldsValue({gender:"other"})}},allowClear:!0,children:[Object(u.jsx)(gt,{value:"male",children:"male"}),Object(u.jsx)(gt,{value:"female",children:"female"}),Object(u.jsx)(gt,{value:"other",children:"other"})]})}),Object(u.jsx)(pt.a.Item,{name:"role",label:"Role",rules:[{required:!0}],children:Object(u.jsxs)(bt.a,{placeholder:"Select a role and change ",onChange:function(e){switch(e){case"user":return void c.setFieldsValue({role:"user"});case"admin":return void c.setFieldsValue({role:"admin"})}},allowClear:!0,children:[Object(u.jsx)(gt,{value:"user",children:"user"}),Object(u.jsx)(gt,{value:"admin",children:"admin"})]})}),Object(u.jsx)(pt.a.Item,{label:"Address",name:"address",children:Object(u.jsx)(ht.a,{})}),Object(u.jsx)(pt.a.Item,{label:"Phone",name:"phone",rules:[{required:!0,message:"Please input your phone!"}],children:Object(u.jsx)(ht.a,{})}),Object(u.jsxs)(pt.a.Item,{wrapperCol:{offset:4,span:16},children:[Object(u.jsx)(Ie.a,{type:"button",onClick:function(){c.resetFields()},children:"Cancel"}),Object(u.jsx)(Ie.a,{type:"primary",htmlType:"submit",style:{marginLeft:15},children:"Edit"})]})]})]})})]})})},vt=localStorage.getItem("token"),yt=function(){var e=Object(de.a)(ue.a.mark((function e(t){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{Authorization:"".concat(vt)}},e.next=4,Oe.a.delete("".concat(fe,"/posts/").concat(t),a);case 4:200===e.sent.status&&window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Et=a(273),wt=[{status:"approved",color:"green"},{status:"pending",color:"blue"},{status:"fail",color:"volcano"}],_t=[{title:"ID",dataIndex:"id",width:20},{title:"Title",dataIndex:"title",width:150},{title:"Content",dataIndex:"content",width:700,height:300,render:function(e,t){return Object(u.jsx)(u.Fragment,{children:Object(Et.htmlToText)(e.slice(0,600))})}},{title:"View detail",width:100,render:function(e,t){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(Ie.a,{type:"primary",shape:"round",onClick:function(){return console.log(e)},children:"View more"})})}},{title:"Image",dataIndex:"image",render:function(e,t){return Object(u.jsx)("img",{width:"150",height:"150",style:{borderRadius:"8px",display:"block",marginLeft:"auto",marginRight:"auto"},src:"".concat(t.image)})}},{title:"Tags",key:"tags",dataIndex:"tags",width:100,render:function(e){return Object(u.jsx)(u.Fragment,{children:e.map((function(e){var t=e.length>4?"geekblue":"green";return Object(u.jsx)(et.a,{color:t,children:e.toLowerCase()},e)}))})}},{title:"Category",dataIndex:["categoryId","name"],width:100},{title:"Status",dataIndex:"status",render:function(e){return Object(u.jsx)(u.Fragment,{children:wt.map((function(t){if(t.status==e)return Object(u.jsx)(et.a,{color:t.color,children:e.toLowerCase()})}))})}},{title:"Action",key:"action",render:function(e,t){return Object(u.jsxs)(tt.b,{size:"middle",children:[Object(u.jsx)(i.b,{to:"/admin/edit-post/".concat(t.slug),children:Object(u.jsx)($e.a,{})}),Object(u.jsx)(at.a,{title:"Sure to delete post?",onConfirm:function(){return Ct(t.id)},children:Object(u.jsx)(i.b,{children:Object(u.jsx)(Qe.a,{})})})]})}}],Ct=function(){var e=Object(de.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){Object(l.c)((function(e){return e.AuthReducer})).loading;var e,t,a=Object(l.c)((function(e){return e.PostReducer})),r=a.posts,c=a.totalDocs,s=Object(l.b)(),i=Object(o.g)(),d=rt.a.parse(location.search),j=d.page,b=void 0===j?1:j,p=d.page_size,h=void 0===p?5:p,m={position:["none","bottomCenter"],total:c,pageSize:null!==(e=parseInt(h))&&void 0!==e?e:5,current:null!==(t=parseInt(b))&&void 0!==t?t:1,pageSizeOptions:["5","10","20","30","50"],showSizeChanger:!0,showTotal:function(e){return"Total: ".concat(c," items ")}};return Object(n.useEffect)((function(){s(function(e,t){return function(){var a=Object(de.a)(ue.a.mark((function a(n,r){var c,s,i,o,l,u,d,j;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r(),s=c.AuthReducer.token,i={headers:{Authorization:"".concat(s)}},n({type:y}),a.prev=3,a.next=6,Oe.a.get("".concat(fe,"/posts?page=").concat(e,"&page_size=").concat(t),i);case 6:o=a.sent,l=o.data,u=l.data,d=l.totalDocs,j=l.currentPage,n({type:E}),n({type:U,payload:{data:u,currentPage:j,totalDocs:d}}),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(3),console.log("error",a.t0),n({type:E});case 19:case"end":return a.stop()}}),a,null,[[3,15]])})));return function(e,t){return a.apply(this,arguments)}}()}(b,h))}),[b,h]),Object(u.jsxs)("div",{className:"post",children:[Object(u.jsxs)(he.a,{children:[Object(u.jsx)("title",{children:"Get all post"}),Object(u.jsx)("meta",{name:"description",content:"Get all post"})]}),Object(u.jsx)(Ie.a,{onClick:function(){return i.push("/admin/create-post")},type:"primary",style:{background:"#39C449",borderColor:"yellow"},children:"Create new post"}),Object(u.jsx)(Ze,{columns:_t,data:r,pagination:m,handlePagination:function(e){var t=e.current,a=e.pageSize;i.push("/admin/posts?page=".concat(t,"&page_size=").concat(a))},scroll:{x:"max-content"}})]})},St=a(87),Nt=a(534),Rt=a(546),It=a(547),Tt=function(e,t){return function(){var a=Object(de.a)(ue.a.mark((function a(n,r){var c,s,i,o,l,u,d,j;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r(),s=c.AuthReducer.token,i={headers:{Authorization:"".concat(s)}},n({type:y}),a.prev=3,a.next=6,Oe.a.get("".concat(fe,"/categories?page=").concat(e,"&page_size=").concat(t),i);case 6:o=a.sent,l=o.data,u=l.data,d=l.currentPage,j=l.totalDocs,n({type:E}),n({type:X,payload:{currentPage:d,data:u,totalDocs:j}}),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(3),console.log("error",a.t0),n({type:E});case 19:case"end":return a.stop()}}),a,null,[[3,15]])})));return function(e,t){return a.apply(this,arguments)}}()},Ft=a(274),At=a(96),Pt=a(97),qt=a(117),Dt=a(58),zt=a(99),Vt=a(98),Mt=a(76),Ut=a.n(Mt),Lt=(a(523),navigator.userAgent.match(/Trident/i),function(e){Object(zt.a)(a,e);var t=Object(Vt.a)(a);function a(){var e;Object(At.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).getMetaTagElements=function(e){var t=document.createElement("div");return t.innerHTML=e,t.getElementsByTagName("meta")},e}return Object(Pt.a)(a,[{key:"onPaste",value:function(){var e=Object(de.a)(ue.a.mark((function e(t){var n,r,c,s=this;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.clipboardData||window.clipboardData,e.next=3,n.getData("Text");case 3:r=e.sent,(c=r.match(/\b(http|https)?:\/\/\S+/gi)||[]).length>0?(t.preventDefault(),c.forEach((function(e){Oe.a.get(e).then((function(e){var t,a,n,r,c=Object(Ft.a)(s.getMetaTagElements(e));try{for(c.s();!(r=c.n()).done;){var i=r.value;"og:title"===i.getAttribute("property")&&(t=i.getAttribute("content")),"og:image"===i.getAttribute("property")&&(a=i.getAttribute("content")),"og:url"===i.getAttribute("property")&&(n=i.getAttribute("content"))}}catch(d){c.e(d)}finally{c.f()}var o="<a href=".concat(n,' target="_blank"><div><img src=').concat(a," alt=").concat(t,' width="20%"/><span>').concat(t,"</span></div></a>"),l=s.quill.getSelection(),u=l?l.index:0;s.quill.pasteHTML(u,o,"silent"),s.quill.setSelection(u+o.length)})).catch((function(e){return console.error(e)}))}))):Object(qt.a)(Object(Dt.a)(a.prototype),"onPaste",this).call(this,t);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(Mt.Quill.import("modules/clipboard")));Mt.Quill.register("modules/clipboard",Lt,!0);var Gt=Mt.Quill.import("blots/block/embed"),Qt=function(e){Object(zt.a)(a,e);var t=Object(Vt.a)(a);function a(){return Object(At.a)(this,a),t.apply(this,arguments)}return Object(Pt.a)(a,null,[{key:"create",value:function(e){var t=Object(qt.a)(Object(Dt.a)(a),"create",this).call(this);return t.setAttribute("src",e.src),t.setAttribute("alt",e.alt),t.setAttribute("width","100%"),t}},{key:"value",value:function(e){return{src:e.getAttribute("src"),alt:e.getAttribute("alt")}}}]),a}(Gt);Qt.blotName="image",Qt.tagName="img",Mt.Quill.register(Qt);var Ht=function(e){Object(zt.a)(a,e);var t=Object(Vt.a)(a);function a(){return Object(At.a)(this,a),t.apply(this,arguments)}return Object(Pt.a)(a,null,[{key:"create",value:function(e){if(e&&e.src){var t=Object(qt.a)(Object(Dt.a)(a),"create",this).call(this);return t.setAttribute("src",e.src),t.setAttribute("title",e.title),t.setAttribute("width","100%"),t.setAttribute("controls",""),t}var n=document.createElement("iframe");return n.setAttribute("src",e),n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("width","100%"),n}},{key:"value",value:function(e){return e.getAttribute("title")?{src:e.getAttribute("src"),alt:e.getAttribute("title")}:e.getAttribute("src")}}]),a}(Gt);Ht.blotName="video",Ht.tagName="video",Mt.Quill.register(Ht);var Bt=function(e){Object(zt.a)(a,e);var t=Object(Vt.a)(a);function a(){return Object(At.a)(this,a),t.apply(this,arguments)}return Object(Pt.a)(a,null,[{key:"create",value:function(e){var t=document.createElement("span");t.innerText="\ucca8\ubd80\ud30c\uc77c - ";var n=document.createElement("b");n.innerText=e;var r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("target","_blank"),r.setAttribute("className","file-link-inner-post"),r.appendChild(n);var c=Object(qt.a)(Object(Dt.a)(a),"create",this).call(this);return c.appendChild(t),c.appendChild(r),c}},{key:"value",value:function(e){return e.querySelector("a").getAttribute("href")}}]),a}(Gt);Bt.blotName="file",Bt.tagName="p",Bt.className="file-inner-post",Mt.Quill.register(Bt);var Jt=function(e){Object(zt.a)(a,e);var t=Object(Vt.a)(a);function a(){return Object(At.a)(this,a),t.apply(this,arguments)}return Object(Pt.a)(a,null,[{key:"create",value:function(e){var t=document.createElement("span");t.innerText="\ud22c\ud45c - ";var n=document.createElement("b");n.innerText=e.title;var r=Object(qt.a)(Object(Dt.a)(a),"create",this).call(this);return r.setAttribute("id",e.id),r.appendChild(t),r.appendChild(n),r}},{key:"value",value:function(e){return{id:e.getAttribute("id"),title:e.querySelector("b").innerText}}}]),a}(Gt);Jt.blotName="poll",Jt.tagName="p",Jt.className="poll-inner-post",Mt.Quill.register(Jt);var Kt=function(e){Object(zt.a)(a,e);var t=Object(Vt.a)(a);function a(e){var n;return Object(At.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({editorHtml:e},(function(){n.props.onEditorChange(n.state.editorHtml)}))},n.imageHandler=function(){n.inputOpenImageRef.current.click()},n.videoHandler=function(){n.inputOpenVideoRef.current.click()},n.fileHandler=function(){n.inputOpenFileRef.current.click()},n.insertImage=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0],a=new FormData;a.append("file",t),Oe.a.post("".concat(fe,"/common/upload-file"),a,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(console.log("\ud83d\ude80 ~ file: QuillEditor.js ~ line 267 ~ QuillEditor ~ response",e),200!==e.status)return alert("failed to upload file");var a=n.reactQuillRef.getEditor();a.focus();var r=a.getSelection(),c=r?r.index:0;a.insertEmbed(c,"image",{src:e.data.data.url}),a.setSelection(c+1),n._isMounted&&n.setState({files:[].concat(Object(St.a)(n.state.files),[t])},(function(){n.props.onFilesChange(n.state.files)}))}))}},n.insertVideo=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0],a=new FormData;a.append("file",t),Oe.a.post("".concat(fe,"/common/upload-file"),a,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(!e.data.success)return alert("failed to upload file");var a=n.reactQuillRef.getEditor();a.focus();var r=a.getSelection(),c=r?r.index:0;a.insertEmbed(c,"video",{src:e.data.data.url}),a.setSelection(c+1),n._isMounted&&n.setState({files:[].concat(Object(St.a)(n.state.files),[t])},(function(){n.props.onFilesChange(n.state.files)}))}))}},n.insertFile=function(e){if(e.stopPropagation(),e.preventDefault(),e.currentTarget&&e.currentTarget.files&&e.currentTarget.files.length>0){var t=e.currentTarget.files[0];console.log(t);var a=new FormData;a.append("file",t),Oe.a.post("".concat(fe,"/common/upload-file"),a,{header:{"content-type":"multipart/form-data"}}).then((function(e){if(e.data.success){var a=n.reactQuillRef.getEditor();a.focus();var r=a.getSelection(),c=r?r.index:0;a.insertEmbed(c,"file",e.data.fileName),a.setSelection(c+1),n._isMounted&&n.setState({files:[].concat(Object(St.a)(n.state.files),[t])},(function(){n.props.onFilesChange(n.state.files)}))}}))}},n.modules={toolbar:{container:"#toolbar",handlers:{insertImage:n.imageHandler,insertVideo:n.videoHandler,insertFile:n.fileHandler,insertPoll:n.pollHandler}}},n.formats=["header","script","direction","align","bold","italic","underline","strike","list","indent","color","background","font","size","image","video","file","link","code-block","video","blockquote","clean"],n.state={editorHtml:e.value||"",files:[]},n.reactQuillRef=null,n.inputOpenImageRef=r.a.createRef(),n.inputOpenVideoRef=r.a.createRef(),n.inputOpenFileRef=r.a.createRef(),n}return Object(Pt.a)(a,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"componentDidUpdate",value:function(e,t){this.props.value!==e.value&&this.setState({editorHtml:this.props.value})}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{id:"toolbar",children:[Object(u.jsx)("button",{class:"ql-header",value:"1"}),Object(u.jsx)("button",{class:"ql-header",value:"2"}),Object(u.jsxs)("span",{class:"ql-header",children:[Object(u.jsx)("select",{class:"ql-font"}),Object(u.jsx)("select",{class:"ql-size"})]}),Object(u.jsxs)("span",{class:"ql-header",children:[Object(u.jsx)("select",{class:"ql-color"}),Object(u.jsx)("select",{class:"ql-background"})]}),Object(u.jsxs)("span",{class:"ql-header",children:[Object(u.jsx)("button",{className:"ql-bold"}),Object(u.jsx)("button",{className:"ql-italic"}),Object(u.jsx)("button",{className:"ql-underline"}),Object(u.jsx)("button",{className:"ql-strike"})]}),Object(u.jsxs)("span",{class:"ql-header",children:[Object(u.jsx)("button",{className:"ql-insertImage ql-image"}),Object(u.jsx)("button",{className:"ql-insertVideo ql-video",children:"V"}),Object(u.jsx)("button",{className:"ql-insertFile ql-file",children:"F"})]}),Object(u.jsxs)("span",{class:"ql-header",children:[Object(u.jsx)("button",{class:"ql-script",value:"sub"}),Object(u.jsx)("button",{class:"ql-script",value:"super"})]}),Object(u.jsxs)("span",{class:"ql-header",children:[Object(u.jsx)("button",{class:"ql-direction",value:"rtl"}),Object(u.jsx)("select",{class:"ql-align"})]}),Object(u.jsxs)("span",{class:"ql-header",children:[Object(u.jsx)("button",{className:"ql-link"}),Object(u.jsx)("button",{className:"ql-code-block"}),Object(u.jsx)("button",{className:"ql-blockquote"}),Object(u.jsx)("button",{className:"ql-clean"})]}),Object(u.jsxs)("span",{class:"ql-header",children:[Object(u.jsx)("button",{class:"ql-list",value:"ordered"}),Object(u.jsx)("button",{class:"ql-list",value:"bullet"}),Object(u.jsx)("button",{class:"ql-indent",value:"-1"}),Object(u.jsx)("button",{class:"ql-indent",value:"+1"})]})]}),Object(u.jsx)(Ut.a,{ref:function(t){e.reactQuillRef=t},theme:"snow",onChange:this.handleChange,modules:this.modules,formats:this.formats,value:this.state.editorHtml,placeholder:this.props.placeholder}),Object(u.jsx)("input",{type:"file",accept:"image/*",ref:this.inputOpenImageRef,style:{display:"none"},onChange:this.insertImage}),Object(u.jsx)("input",{type:"file",accept:"video/*",ref:this.inputOpenVideoRef,style:{display:"none"},onChange:this.insertVideo}),Object(u.jsx)("input",{type:"file",accept:"*",ref:this.inputOpenFileRef,style:{display:"none"},onChange:this.insertFile})]})}}]),a}(r.a.Component),Wt=a(275),Xt=a.n(Wt),Yt=function(e){Object(o.g)();var t=Object(l.b)(),a=pt.a.useForm(),r=Object(be.a)(a,1)[0],c=Object(l.c)((function(e){return e.AuthReducer})),s=c.user,i=(c.loading,Object(l.c)((function(e){return e.PostReducer}))),d=i.createPostError,j=i.redirect,b=Object(l.c)((function(e){return e.CategoryReducer})).categories,p=Object(n.useState)({tags:["nodejs","reactjs"],inputVisible:!1,inputValue:""}),h=Object(be.a)(p,2),O=h[0],f=h[1],g=Object(n.useState)(""),x=Object(be.a)(g,2),v=(x[0],x[1],Object(n.useState)("")),_=Object(be.a)(v,2),k=(_[0],_[1],Object(n.useState)([])),S=Object(be.a)(k,2),N=(S[0],S[1]);Object(n.useEffect)((function(){t(Tt(1,20))}),[]),Object(n.useEffect)((function(){j&&e.history.push("/admin/posts"),d&&pe.b.error(d)}),[d,j]);var R=function(){var e=O.inputValue,t=O.tags;e&&-1===t.indexOf(e)&&(t=[].concat(Object(St.a)(t),[e])),f({tags:t,inputVisible:!1,inputValue:""})},I=O.tags,T=O.inputVisible,F=O.inputValue;r.setFieldsValue({tags:I});var A=I.map((function(e){var t=Object(u.jsx)(et.a,{closable:!0,onClose:function(t){t.preventDefault(),function(e){var t=O.tags.filter((function(t){return t!==e}));f({tags:t})}(e)},children:e});return Object(u.jsx)("span",{style:{display:"inline-block"},children:t},e)}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"post",children:[Object(u.jsx)(mt,{}),Object(u.jsxs)(he.a,{children:[Object(u.jsx)("title",{children:"Create new post"}),Object(u.jsx)("meta",{name:"description",content:"Create new post"})]}),Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)(pe.a,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:1e3,style:{background:"#363636",color:"#fff",fontSize:13}}}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"form__data",children:[Object(u.jsx)("h3",{className:"form__data__text",children:"Create new post"}),Object(u.jsxs)(pt.a,{form:r,name:"basic",labelCol:{span:2},wrapperCol:{span:20},initialValues:{remember:!0},onFinish:function(e){var a;e.userId=s._id,e.image=e.image.file.response.data.url,t((a=e,function(){var e=Object(de.a)(ue.a.mark((function e(t,n){var r,c,s;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n(),c=r.AuthReducer.token,s={headers:{Authorization:"".concat(c)}},t({type:y}),e.prev=3,e.next=6,Oe.a.post("".concat(fe,"/posts"),a,s);case 6:e.sent,t({type:w}),t({type:C}),t({type:E}),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(3),t({type:E}),t({type:G,payload:e.t0.response.data.message}),t({type:C});case 17:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t,a){return e.apply(this,arguments)}}()))},onFinishFailed:function(e){console.log(e)},autoComplete:"off",children:[Object(u.jsx)(pt.a.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input your title!"}],children:Object(u.jsx)(ht.a,{onChange:function(e){var t=Xt()(e.target.value);r.setFieldsValue({slug:t})}})}),Object(u.jsx)(pt.a.Item,{label:"Image",name:"image",rules:[{required:!0,message:"Please input your image!"}],children:Object(u.jsx)(Nt.a,{action:function(e){return"".concat(fe,"/common/upload-file")},listType:"picture",maxCount:1,children:Object(u.jsx)(Ie.a,{icon:Object(u.jsx)(Rt.a,{}),children:"Click to upload"})})}),Object(u.jsx)(pt.a.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please input your description!"}],children:Object(u.jsx)(ht.a,{})}),Object(u.jsx)(pt.a.Item,{label:"Slug",name:"slug",rules:[{required:!0,message:"Please input your slug!"}],children:Object(u.jsx)(ht.a,{})}),Object(u.jsx)(pt.a.Item,{label:"Content",name:"content",rules:[{required:!0,message:"Please input your content!"}],children:Object(u.jsx)(Kt,{onEditorChange:function(e){r.setFieldsValue({content:e})},onFilesChange:function(e){N(e)}})}),Object(u.jsxs)(pt.a.Item,{label:"Tag",name:"tags",rules:[{required:!0,message:"Please input your tags!"}],children:[A,T&&Object(u.jsx)(ht.a,{type:"text",size:"small",style:{width:78},value:F,onChange:function(e){f(Object(m.a)(Object(m.a)({},O),{},{inputValue:e.target.value}))},onBlur:R,onPressEnter:R}),!T&&Object(u.jsxs)(et.a,{onClick:function(){f(Object(m.a)(Object(m.a)({},O),{},{inputVisible:!0}))},children:[Object(u.jsx)(It.a,{})," New Tag"]})]}),Object(u.jsx)(pt.a.Item,{label:"Category",name:"categoryId",rules:[{required:!0,message:"Please input your category!"}],children:Object(u.jsx)(bt.a,{placeholder:"Select a category and change ",allowClear:!0,children:b.map((function(e){return Object(u.jsx)(bt.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(u.jsxs)(pt.a.Item,{wrapperCol:{offset:2,span:20},children:[Object(u.jsx)(Ie.a,{type:"button",onClick:function(){r.resetFields()},children:"Cancel"}),Object(u.jsx)(Ie.a,{type:"primary",htmlType:"submit",style:{marginLeft:15},children:"Create"})]})]})]})})]})]})})},Zt=a(533),$t=a(196),ea=a.n($t),ta=function(e){var t=e.match.params.id,a=(Object(o.g)(),Object(l.b)()),r=pt.a.useForm(),c=Object(be.a)(r,1)[0],s=Object(l.c)((function(e){return e.CategoryReducer})).categories,i=Object(l.c)((function(e){return e.PostReducer})),d=i.post,j=i.postStatus,b=i.editPostError,p=i.redirect,h=Object(n.useState)(null===d||void 0===d?void 0:d.image),O=Object(be.a)(h,2),f=O[0],g=O[1],x=Object(n.useState)({tags:ea.a.isEmpty(d.tags)?[]:d.tags,inputVisible:!1,inputValue:""}),v=Object(be.a)(x,2),k=v[0],S=v[1],N=k.tags,R=k.inputVisible,I=k.inputValue;Object(n.useEffect)((function(){j?(c.setFieldsValue({title:d.title,description:d.description,slug:d.slug,image:d.image,content:d.content,categoryId:d.categoryId._id,tags:d.tags}),g(d.image),a({type:K})):a(function(e){return function(){var t=Object(de.a)(ue.a.mark((function t(a,n){var r,c,s,i,o;return ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),c=r.AuthReducer.token,s={headers:{Authorization:"".concat(c)}},a({type:y}),t.prev=3,t.next=6,Oe.a.get("".concat(fe,"/posts/").concat(e),s);case 6:i=t.sent,o=i.data.data,a({type:E}),a({type:B,payload:o}),a({type:J}),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(3),a({type:E}),console.log(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e,a){return t.apply(this,arguments)}}()}(t))}),[d]),Object(n.useEffect)((function(){a(Tt(1,20))}),[]);Object(n.useEffect)((function(){ea.a.isEmpty(d.tags)||S({tags:d.tags,inputVisible:!1,inputValue:""})}),[d]);var T=function(e){var t=k.tags.filter((function(t){return t!==e}));S({tags:t})},F=null===N||void 0===N?void 0:N.map((function(e){var t=Object(u.jsx)(et.a,{closable:!0,onClose:function(t){t.preventDefault(),T(e)},children:e});return Object(u.jsx)("span",{style:{display:"inline-block"},children:t},e)})),A=function(){var e=k.inputValue,t=k.tags;e&&-1===t.indexOf(e)&&(t=[].concat(Object(St.a)(t),[e])),S({tags:t,inputVisible:!1,inputValue:""})};Object(n.useEffect)((function(){p&&(a({type:_}),e.history.push("/admin/posts"))}),[p]),Object(n.useEffect)((function(){b&&pe.b.error(b)}),[b]);return Object(u.jsxs)("div",{children:[Object(u.jsx)(mt,{}),Object(u.jsxs)(he.a,{children:[Object(u.jsx)("title",{children:"Edit post"}),Object(u.jsx)("meta",{name:"description",content:"Edit post"})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)(pe.a,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:1e3,style:{background:"#363636",color:"#fff",fontSize:13}}}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"form__data",children:[Object(u.jsx)("h3",{className:"form__data__text",children:"Edit post"}),Object(u.jsxs)(pt.a,{form:c,name:"basic",className:"formCreatePost",labelCol:{span:2},wrapperCol:{span:20},initialValues:{remember:!0},onFinish:function(e){e.image=f,a(function(e,t){return function(){var a=Object(de.a)(ue.a.mark((function a(n,r){var c,s,i,o;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r(),s=c.AuthReducer.token,n({type:y}),a.prev=2,i={headers:{Authorization:"".concat(s)}},a.next=6,Oe.a.put("".concat(fe,"/posts/").concat(e),t,i);case 6:o=a.sent,console.log("\ud83d\ude80 ~ file: PostMethod.js ~ line 88 ~ return ~ res",o),n({type:w}),n({type:C}),n({type:E}),a.next=18;break;case 13:a.prev=13,a.t0=a.catch(2),console.log("error",a.t0),n({type:E}),n({type:"EDIT_POST_ERROR",payload:a.t0.response.data.message});case 18:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(e,t){return a.apply(this,arguments)}}()}(t,e))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(u.jsx)(pt.a.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Please input your title!"}],children:Object(u.jsx)(ht.a,{})}),Object(u.jsxs)(pt.a.Item,{label:"Image",name:"image",rules:[{required:!0,message:"Please input your image!"}],children:[Object(u.jsx)(Zt.a,{width:200,src:f}),Object(u.jsx)(Nt.a,{action:function(e){return"".concat(fe,"/common/upload-file")},onChange:function(e){"done"===e.file.status?(g(e.file.response.data.url),console.log("\ud83d\ude80 ~ file: edit.jsx ~ line 139 ~ handleUpload ~ setUrlImage",g),c.setFieldsValue("image",f)):"error"===e.file.status&&pe.b.error("".concat(e.file.name," file upload failed."))},listType:"picture",maxCount:1,children:Object(u.jsx)(Ie.a,{style:{marginTop:"2rem"},icon:Object(u.jsx)(Rt.a,{}),children:"Click to upload"})})]}),Object(u.jsx)(pt.a.Item,{label:"Description",name:"description",rules:[{required:!0,message:"Please input your description!"}],children:Object(u.jsx)(ht.a,{})}),Object(u.jsx)(pt.a.Item,{label:"Slug",name:"slug",rules:[{required:!0,message:"Please input your slug!"}],children:Object(u.jsx)(ht.a,{})}),Object(u.jsx)(pt.a.Item,{label:"Content",name:"content",rules:[{required:!0,message:"Please input your content!"}],children:Object(u.jsx)(Kt,{value:d.content,onEditorChange:function(e){c.setFieldsValue({content:e})},onFilesChange:function(e){setFiles(e)}})}),Object(u.jsxs)(pt.a.Item,{label:"Tag",name:"tags",rules:[{required:!0,message:"Please input your tags!"}],children:[F,R&&Object(u.jsx)(ht.a,{type:"text",size:"small",style:{width:78},value:I,onChange:function(e){S(Object(m.a)(Object(m.a)({},k),{},{inputValue:e.target.value}))},onBlur:A,onPressEnter:A}),!R&&Object(u.jsxs)(et.a,{onClick:function(){S(Object(m.a)(Object(m.a)({},k),{},{inputVisible:!0}))},children:[Object(u.jsx)(It.a,{})," New Tag"]})]}),Object(u.jsx)(pt.a.Item,{label:"Category",name:"categoryId",rules:[{required:!0,message:"Please input your category!"}],children:Object(u.jsx)(bt.a,{placeholder:"Select a category and change ",allowClear:!0,children:s.map((function(e){return Object(u.jsx)(bt.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(u.jsxs)(pt.a.Item,{wrapperCol:{offset:2,span:20},children:[Object(u.jsx)(Ie.a,{type:"button",onClick:function(){c.resetFields()},children:"Cancel"}),Object(u.jsx)(Ie.a,{type:"primary",htmlType:"submit",style:{marginLeft:15},children:"Edit"})]})]})]})})]})]})},aa=localStorage.getItem("token"),na=function(){var e=Object(de.a)(ue.a.mark((function e(t){var a;return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{Authorization:"".concat(aa)}},e.next=4,Oe.a.delete("".concat(fe,"/comments/").concat(t),a);case 4:200===e.sent.status&&window.location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ra=[{title:"ID",dataIndex:"id"},{title:"Content",dataIndex:"content"},{title:"Author",dataIndex:["userId","name"]},{title:"Post",dataIndex:["postId","title"]},{title:"Action",key:"action",render:function(e,t){return Object(u.jsx)(tt.b,{size:"middle",children:Object(u.jsx)(at.a,{title:"Sure to delete comment?",onConfirm:function(){return ca(t.id)},children:Object(u.jsx)(i.b,{children:Object(u.jsx)(Qe.a,{})})})})}}],ca=function(e){na(e)},sa=function(){Object(l.c)((function(e){return e.AuthReducer})).loading;var e,t,a=Object(l.c)((function(e){return e.CommentReducer})),r=a.comments,c=a.totalDocs,s=Object(o.g)(),i=Object(l.b)(),d=rt.a.parse(location.search),j=d.page,b=void 0===j?1:j,p=d.page_size,h=void 0===p?5:p,m={position:["none","bottomCenter"],total:c,pageSize:null!==(e=parseInt(h))&&void 0!==e?e:5,current:null!==(t=parseInt(b))&&void 0!==t?t:1,pageSizeOptions:["5","10","20","30","50"],showSizeChanger:!0,showTotal:function(e){return"Total: ".concat(c," items ")}};return Object(n.useEffect)((function(){i(function(e,t){return function(){var a=Object(de.a)(ue.a.mark((function a(n,r){var c,s,i,o,l,u,d,j;return ue.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=r(),s=c.AuthReducer.token,n({type:y}),a.prev=2,i={headers:{Authorization:"".concat(s)}},a.next=6,Oe.a.get("".concat(fe,"/comments?page=").concat(e,"&page_size=").concat(t),i);case 6:o=a.sent,l=o.data,u=l.data,d=l.totalDocs,j=l.currentPage,n({type:E}),n({type:Z,payload:{data:u,currentPage:j,totalDocs:d}}),a.next=19;break;case 15:a.prev=15,a.t0=a.catch(2),console.log("error",a.t0),n({type:E});case 19:case"end":return a.stop()}}),a,null,[[2,15]])})));return function(e,t){return a.apply(this,arguments)}}()}(b,h))}),[b,h]),Object(u.jsxs)("div",{className:"comment",children:[Object(u.jsxs)(he.a,{children:[Object(u.jsx)("title",{children:"Get all comment"}),Object(u.jsx)("meta",{name:"description",content:"Get all comment"})]}),Object(u.jsx)(Ze,{columns:ra,data:r,pagination:m,handlePagination:function(e){var t=e.current,a=e.pageSize;s.push("/admin/comments?page=".concat(t,"&page_size=").concat(a))}})]})},ia=function(e){var t=Object(o.g)(),a=(Object(l.b)(),pt.a.useForm()),n=Object(be.a)(a,1)[0],r=function(){var e=Object(de.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete t.confirm_password,e.next=3,ye(t).catch((function(e){pe.b.error(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"change-password",children:[Object(u.jsx)(Ie.a,{onClick:function(){return t.goBack()},type:"primary",style:{background:"#39C449",borderColor:"yellow"},children:"Go back"}),Object(u.jsxs)(he.a,{children:[Object(u.jsx)("title",{children:"Change password"}),Object(u.jsx)("meta",{name:"description",content:"Change password"})]}),Object(u.jsxs)("div",{className:"",children:[Object(u.jsx)(pe.a,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:1e3,style:{background:"#363636",color:"#fff",fontSize:13}}}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"form__data",children:[Object(u.jsx)("h3",{className:"form__data__text",children:"Change password"}),Object(u.jsxs)(pt.a,{form:n,name:"basic",labelCol:{span:4},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:r,onFinishFailed:function(e){console.log(e)},autoComplete:"off",children:[Object(u.jsx)(pt.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your current password!"}],children:Object(u.jsx)(ht.a.Password,{})}),Object(u.jsx)(pt.a.Item,{label:"New password",name:"new_password",rules:[{required:!0,message:"Please input your new password!"}],children:Object(u.jsx)(ht.a.Password,{})}),Object(u.jsx)(pt.a.Item,{label:"Confirm password",name:"confirm_password",dependencies:["new_password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("new_password")!==a?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(u.jsx)(ht.a.Password,{})}),Object(u.jsxs)(pt.a.Item,{wrapperCol:{offset:4,span:16},children:[Object(u.jsx)(Ie.a,{type:"button",onClick:function(){n.resetFields()},children:"Cancel"}),Object(u.jsx)(Ie.a,{type:"primary",htmlType:"submit",style:{marginLeft:15},children:"Change Password"})]})]})]})})]})]})})},oa=bt.a.Option,la=function(e){Object(o.g)();var t=Object(l.b)(),a=pt.a.useForm(),r=Object(be.a)(a,1)[0],c=Object(l.c)((function(e){return e.AuthReducer.user})),s=Object(l.c)((function(e){return e.UserReducer})),i=s.user,d=s.userStatus,j=s.editUserError,b=s.redirect;Object(n.useEffect)((function(){d?(r.setFieldsValue({email:i.email,gender:i.gender,name:i.name,address:i.address,role:i.role,phone:i.phone}),t({type:q})):t(st(c._id))}),[i]),Object(n.useEffect)((function(){b&&(t({type:_}),e.history.push("/admin/users"))}),[b]),Object(n.useEffect)((function(){j&&pe.b.error(j)}),[j]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{children:[Object(u.jsx)(mt,{}),Object(u.jsxs)(he.a,{children:[Object(u.jsx)("title",{children:"Edit user"}),Object(u.jsx)("meta",{name:"description",content:"Edit user"})]}),Object(u.jsx)(pe.a,{position:"top-right",reverseOrder:!1,gutter:8,toastOptions:{duration:1e3,style:{background:"#363636",color:"#fff",fontSize:13}}}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)("div",{className:"form__data",children:[Object(u.jsx)("h3",{className:"form__data__text",children:"My profile"}),Object(u.jsxs)(pt.a,{form:r,name:"basic",labelCol:{span:4},wrapperCol:{span:16},initialValues:{remember:!0},onFinish:function(e){console.log("value",e),t(it(c._id,e))},onFinishFailed:function(e){console.log("Failed:",e)},autoComplete:"off",children:[Object(u.jsx)(pt.a.Item,{label:"Email",name:"email",children:Object(u.jsx)(ht.a,{disabled:!0})}),Object(u.jsx)(pt.a.Item,{label:"Username",name:"name",rules:[{required:!0,message:"Please input your username!"}],children:Object(u.jsx)(ht.a,{})}),Object(u.jsx)(pt.a.Item,{name:"gender",label:"Gender",rules:[{required:!0}],children:Object(u.jsxs)(bt.a,{placeholder:"Select a gender and change ",onChange:function(e){switch(e){case"male":return void r.setFieldsValue({gender:"male"});case"female":return void r.setFieldsValue({gender:"female"});case"other":r.setFieldsValue({gender:"other"})}},allowClear:!0,children:[Object(u.jsx)(oa,{value:"male",children:"male"}),Object(u.jsx)(oa,{value:"female",children:"female"}),Object(u.jsx)(oa,{value:"other",children:"other"})]})}),Object(u.jsx)(pt.a.Item,{name:"role",label:"Role",rules:[{required:!0}],children:Object(u.jsxs)(bt.a,{placeholder:"Select a role and change ",onChange:function(e){switch(e){case"user":return void r.setFieldsValue({role:"user"});case"admin":return void r.setFieldsValue({role:"admin"})}},allowClear:!0,children:[Object(u.jsx)(oa,{value:"user",children:"user"}),Object(u.jsx)(oa,{value:"admin",children:"admin"})]})}),Object(u.jsx)(pt.a.Item,{label:"Address",name:"address",children:Object(u.jsx)(ht.a,{})}),Object(u.jsx)(pt.a.Item,{label:"Phone",name:"phone",rules:[{required:!0,message:"Please input your phone!"}],children:Object(u.jsx)(ht.a,{})}),Object(u.jsxs)(pt.a.Item,{wrapperCol:{offset:4,span:16},children:[Object(u.jsx)(Ie.a,{type:"button",onClick:function(){r.resetFields()},children:"Cancel"}),Object(u.jsx)(Ie.a,{type:"primary",htmlType:"submit",style:{marginLeft:15},children:"Edit"})]})]})]})})]})})};var ua=function(){return Object(u.jsx)(l.a,{store:oe,children:Object(u.jsx)(i.a,{children:Object(u.jsxs)(o.d,{children:[Object(u.jsx)(j,{path:"/admin/register",component:ke}),Object(u.jsx)(j,{path:"/admin/login",component:Te}),Object(u.jsxs)("div",{className:"d-flex",children:[Object(u.jsx)(Ke,{}),Object(u.jsxs)("div",{className:"col-10",children:[Object(u.jsx)(Me,{}),Object(u.jsx)(d,{path:"/admin/dashboard",exact:!0,component:We}),Object(u.jsx)(d,{path:"/admin/users",component:jt}),Object(u.jsx)(d,{path:"/admin/create-user",component:ft}),Object(u.jsx)(d,{path:"/admin/edit-user/:id",component:xt}),Object(u.jsx)(d,{path:"/admin/posts",component:kt}),Object(u.jsx)(d,{path:"/admin/create-post",component:Yt}),Object(u.jsx)(d,{path:"/admin/edit-post/:id",component:ta}),Object(u.jsx)(d,{path:"/admin/comments",component:sa}),Object(u.jsx)(d,{path:"/admin/change-password",component:ia}),Object(u.jsx)(d,{path:"/admin/profile",component:la})]})]})]})})})};s.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(ua,{})}),document.getElementById("root"))}},[[524,1,2]]]);
//# sourceMappingURL=main.c323ab4b.chunk.js.map